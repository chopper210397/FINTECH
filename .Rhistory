unique(tickets$State)
unique(tickets$Priority)
unique(tickets$Group)
unique(tickets$Owner)
unique(tickets$Customer)
unique(tickets$Organization)
tickets %>% filter(Organization=="NA")
tickets %>% filter(Organization=="")
tickets %>% filter(Organization!="Aflore SAS")
unique(tickets$`Create Channel`)
unique(tickets$Customer)
unique(tickets$Sender)
unique(tickets$Tags)
range(tickets$`Created at`)
str(tickets)
parse_datetime(tickets$`Created at`)
parse_datetime(tickets$`Created at`[1:10])
str(tickets)
# como las fechas estan como carácteres y no date lo convertimos
parse_datetime(tickets$`Created at`)
str(tickets)
# como las fechas estan como carácteres y no date lo convertimos
tickets$`Created at`<-parse_datetime(tickets$`Created at`)
tickets$`Updated at`<-parse_datetime(tickets$`Updated at`)
tickets$`Closed at`<-parse_datetime(tickets$`Closed at`)
str(tickets)
View(tickets)
range(tickets$`Created at`)
max(tickets$`Created at`)
View(tickets)
library(lubridate)
month(tickets$`Created at`)
tickets %>% mutate(mes=month(`Created at`))
tickets<-tickets %>% mutate(mes=month(`Created at`))
tickets
View(tickets)
length(unique(tickets$Title))
length(unique(tickets$Subgrupo))
# el title es mas completo que el subgrupo en cuanto a detalles, de preferencia usar el primero, brinda mas data
tickets %>% ggplot(aes(x=Title))+geom_bar()
# el title es mas completo que el subgrupo en cuanto a detalles, de preferencia usar el primero, brinda mas data
tickets %>% ggplot(aes(x=Title))+geom_bar()+coord_flip()
parse_factor(tickets$Title)
library(forcats)
# el title es mas completo que el subgrupo en cuanto a detalles, de preferencia usar el primero, brinda mas data
tickets %>% ggplot(aes(x= fct_reorder(Title) ))+geom_bar()+coord_flip()
# el title es mas completo que el subgrupo en cuanto a detalles, de preferencia usar el primero, brinda mas data
tickets %>% ggplot(aes(x= reorder(Title) ))+geom_bar()+coord_flip()
# el title es mas completo que el subgrupo en cuanto a detalles, de preferencia usar el primero, brinda mas data
tickets %>% ggplot(aes(x= order(Title) ))+geom_bar()+coord_flip()
# el title es mas completo que el subgrupo en cuanto a detalles, de preferencia usar el primero, brinda mas data
tickets %>% ggplot(aes(x= Title ))+geom_bar()+coord_flip()
# el title es mas completo que el subgrupo en cuanto a detalles, de preferencia usar el primero, brinda mas data
tickets %>% ggplot(aes(x= Title ))+geom_bar()+coord_flip()
# el title es mas completo que el subgrupo en cuanto a detalles, de preferencia usar el primero, brinda mas data
tickets %>% ggplot(aes(x= Title ))+geom_count()+coord_flip()
# el title es mas completo que el subgrupo en cuanto a detalles, de preferencia usar el primero, brinda mas data
tickets %>% ggplot(aes(x= Title ))+geom_count()+coord_flip()
# el title es mas completo que el subgrupo en cuanto a detalles, de preferencia usar el primero, brinda mas data
tickets %>% ggplot(aes(x= Title ))+geom_bar()+coord_flip()
# el title es mas completo que el subgrupo en cuanto a detalles, de preferencia usar el primero, brinda mas data
tickets %>% ggplot(aes(x=reorder( Title,-n ),y=n))+geom_bar(stat = "identity")+coord_flip()
# el title es mas completo que el subgrupo en cuanto a detalles, de preferencia usar el primero, brinda mas data
tickets %>% ggplot(aes(x=reorder( Title,n ),y=n))+geom_bar(stat = "identity")+coord_flip()
# el title es mas completo que el subgrupo en cuanto a detalles, de preferencia usar el primero, brinda mas data
tickets %>% count(Title) %>%  ggplot(aes(x=reorder( Title,n ),y=n))+geom_bar(stat = "identity")+coord_flip()
# el title es mas completo que el subgrupo en cuanto a detalles, de preferencia usar el primero, brinda mas data
tickets %>% count(Title) %>%  ggplot(aes(x=reorder( Title,n ),y=n,fill=mes))+geom_bar(stat = "identity")+coord_flip()
View(tickets)
# el title es mas completo que el subgrupo en cuanto a detalles, de preferencia usar el primero, brinda mas data
tickets %>%  ggplot(aes(x=reorder( Title))+geom_bar(stat = "identity")+coord_flip()
# el title es mas completo que el subgrupo en cuanto a detalles, de preferencia usar el primero, brinda mas data
tickets %>%  ggplot(aes(x=Title))+geom_bar(stat = "identity")+coord_flip()
# el title es mas completo que el subgrupo en cuanto a detalles, de preferencia usar el primero, brinda mas data
tickets %>%  ggplot(aes(x=Title))+geom_bar(stat = "identity")+coord_flip()
# el title es mas completo que el subgrupo en cuanto a detalles, de preferencia usar el primero, brinda mas data
tickets %>% ggplot(aes(x=Title))+geom_bar(stat = "identity")+coord_flip()
# el title es mas completo que el subgrupo en cuanto a detalles, de preferencia usar el primero, brinda mas data
tickets %>% ggplot(aes(x=Title))+geom_bar(stat = "identity")+coord_flip()
# el title es mas completo que el subgrupo en cuanto a detalles, de preferencia usar el primero, brinda mas data
tickets %>% ggplot(aes(x=Title))+geom_bar()+coord_flip()
# el title es mas completo que el subgrupo en cuanto a detalles, de preferencia usar el primero, brinda mas data
tickets %>% ggplot(aes(x=Title))+geom_count()+coord_flip()
# el title es mas completo que el subgrupo en cuanto a detalles, de preferencia usar el primero, brinda mas data
tickets %>% ggplot(aes(x=Title,y=Title))+geom_count()+coord_flip()
# el title es mas completo que el subgrupo en cuanto a detalles, de preferencia usar el primero, brinda mas data
tickets %>% ggplot(aes(x=Title,y=count(Title)))+geom_count()+coord_flip()
# el title es mas completo que el subgrupo en cuanto a detalles, de preferencia usar el primero, brinda mas data
tickets %>% ggplot(aes(x=Title,y=Title))+geom_count()+coord_flip()
# el title es mas completo que el subgrupo en cuanto a detalles, de preferencia usar el primero, brinda mas data
tickets %>% ggplot(aes(x=Title,y=Title))+geom_bar()+coord_flip()
# el title es mas completo que el subgrupo en cuanto a detalles, de preferencia usar el primero, brinda mas data
tickets %>% ggplot(aes(x=Title,y=Title))+geom_bar(stat = "identity")+coord_flip()
# el title es mas completo que el subgrupo en cuanto a detalles, de preferencia usar el primero, brinda mas data
tickets %>% ggplot(aes(x=Title))+geom_bar()+coord_flip()
# el title es mas completo que el subgrupo en cuanto a detalles, de preferencia usar el primero, brinda mas data
tickets %>% ggplot(aes(x=reorder(Title,Title,function(x)-length(x))))+geom_bar()+coord_flip()
# el title es mas completo que el subgrupo en cuanto a detalles, de preferencia usar el primero, brinda mas data
tickets %>% ggplot(aes(x=reorder(Title,Title,function(x)length(x))))+geom_bar()+coord_flip()
# el title es mas completo que el subgrupo en cuanto a detalles, de preferencia usar el primero, brinda mas data
tickets %>% ggplot(aes(x=reorder(Title,Title,function(x)length(x))))+geom_bar()+coord_flip()
# el title es mas completo que el subgrupo en cuanto a detalles, de preferencia usar el primero, brinda mas data
tickets %>% ggplot(aes(x=reorder(Title,Title,function(x)length(x)),fill=mes))+geom_bar()+coord_flip()
# el title es mas completo que el subgrupo en cuanto a detalles, de preferencia usar el primero, brinda mas data
tickets %>% ggplot(aes(x=reorder(Title,Title,function(x)length(x)),color=mes))+geom_bar()+coord_flip()
# el title es mas completo que el subgrupo en cuanto a detalles, de preferencia usar el primero, brinda mas data
tickets %>% ggplot(aes(x=reorder(Title,Title,function(x)length(x)),fill=mes))+geom_bar()+coord_flip()
# el title es mas completo que el subgrupo en cuanto a detalles, de preferencia usar el primero, brinda mas data
tickets %>% ggplot(aes(x=reorder(Title,Title,function(x)length(x))),fill=mes)+geom_bar()+coord_flip()
# el title es mas completo que el subgrupo en cuanto a detalles, de preferencia usar el primero, brinda mas data
tickets %>% ggplot(aes(x=reorder(Title,Title,function(x)length(x))))+geom_bar(fill=mes)+coord_flip()
# el title es mas completo que el subgrupo en cuanto a detalles, de preferencia usar el primero, brinda mas data
tickets %>% ggplot(aes(x=reorder(Title,Title,function(x)length(x))))+geom_bar(fill=mes)+coord_flip()
# el title es mas completo que el subgrupo en cuanto a detalles, de preferencia usar el primero, brinda mas data
tickets %>% ggplot(aes(x=reorder(Title,Title,function(x)length(x))))+geom_bar(fill=tickets$mes)+coord_flip()
# el title es mas completo que el subgrupo en cuanto a detalles, de preferencia usar el primero, brinda mas data
tickets %>% ggplot(aes(x=reorder(Title,Title,function(x)length(x))),fill=mes)+geom_bar()+coord_flip()
# el title es mas completo que el subgrupo en cuanto a detalles, de preferencia usar el primero, brinda mas data
tickets %>% ggplot(aes(x=reorder(Title,Title,function(x)length(x)),fill=mes))+geom_bar()+coord_flip()
# el title es mas completo que el subgrupo en cuanto a detalles, de preferencia usar el primero, brinda mas data
tickets %>% ggplot(aes(x=reorder(Title,Title,function(x)length(x))))+geom_bar()+coord_flip()+facet_grid(~mes)
# el title es mas completo que el subgrupo en cuanto a detalles, de preferencia usar el primero, brinda mas data
tickets %>% ggplot(aes(x=reorder(Title,Title,function(x)length(x))))+geom_bar()+coord_flip()+facet_wrap(~mes)
# el title es mas completo que el subgrupo en cuanto a detalles, de preferencia usar el primero, brinda mas data
tickets %>% ggplot(aes(x=reorder(Title,Title,function(x)length(x))))+geom_bar()+coord_flip()+facet_grid(~mes)
# el title es mas completo que el subgrupo en cuanto a detalles, de preferencia usar el primero, brinda mas data
tickets %>% filter(mes!="") %>%  ggplot(aes(x=reorder(Title,Title,function(x)length(x))))+geom_bar()+coord_flip()+facet_grid(~mes)
# el title es mas completo que el subgrupo en cuanto a detalles, de preferencia usar el primero, brinda mas data
tickets %>% filter(mes!="") %>%  ggplot(aes(x=reorder(Title,Title,function(x)length(x))))+geom_bar()+coord_flip()+facet_grid(~mes)+labs(x="")
# el title es mas completo que el subgrupo en cuanto a detalles, de preferencia usar el primero, brinda mas data
tickets %>% filter(mes!="") %>%  ggplot(aes(x=reorder(Title,Title,function(x)length(x))))+geom_bar()+coord_flip()+facet_grid(~mes)+labs(x="",y="conteo")
# creando tablas resumen
tickets %>% count(Title)
# creando tablas resumen
tickets %>% count(-Title)
# creando tablas resumen
tickets %>% count(Title) %>% order_by(n)
# creando tablas resumen
tickets %>% count(Title) %>% arrange(n)
# creando tablas resumen
tickets %>% count(Title) %>% arrange(-n)
# creando tablas resumen
tickets %>% count(mes,Title) %>% arrange(-n)
# creando tablas resumen
tickets %>% count(Title,mes) %>% arrange(-n)
# creando tablas resumen
tickets %>% count(mes,Title)
View(tickets)
# creando tablas resumen
tickets %>% count(mes,Title)
# creando tablas resumen
tickets %>% count(mes,Title) %>% pivot_wider(names_from = mes)
# creando tablas resumen
tickets %>% count(mes,Title) %>% pivot_wider(names_from = mes,values_from = n)
# creando tablas resumen
tickets %>% count(mes,Title) %>% pivot_wider(names_from = mes,values_from = n) %>% arrange(`3`)
# creando tablas resumen
tickets %>% count(mes,Title) %>% pivot_wider(names_from = mes,values_from = n) %>% arrange(-`3`)
# creando tablas resumen
tickets_mes<-tickets %>% count(mes,Title) %>% pivot_wider(names_from = mes,values_from = n) %>% arrange(-`3`)
kbl(tickets_mes)
tickets %>% mutate(ifelse(mes=="1","Enero",ifelse(mes=="2","Febrero")))
tickets %>% mutate(ifelse(mes=="1","Enero",ifelse(mes=="2","Febrero","")))
tickets %>% mutate(ifelse(mes=="1","Enero",ifelse(mes=="2","Febrero",ifelse(mes=="3","Marzo",
ifelse(mes=="4","Abril","")))))
tickets<-tickets %>% mutate(ifelse(mes=="1","Enero",ifelse(mes=="2","Febrero",ifelse(mes=="3","Marzo",
ifelse(mes=="4","Abril","")))))
View(tickets)
tickets<-tickets %>% mutate(mes=ifelse(mes=="1","Enero",ifelse(mes=="2","Febrero",ifelse(mes=="3","Marzo",
ifelse(mes=="4","Abril","")))))
View(tickets)
tickets %>% count(mes,Title) %>% pivot_wider(names_from = mes,values_from = n) %>% arrange(-`3`)
tickets %>% count(mes,Title) %>% pivot_wider(names_from = mes,values_from = n)
# creando tablas resumen
tickets_mes<-tickets %>% count(mes,Title) %>% pivot_wider(names_from = mes,values_from = n) %>% arrange(-Marzo)
parse_factor(unique(tickets$mes))
parse_factor(unique(tickets$mes),levels = c("Enero","Febrero","Marzo","Abril"))
tickets$mes<-parse_factor(unique(tickets$mes),levels = c("Enero","Febrero","Marzo","Abril"))
tickets$mes<-parse_factor(tickets$mes,levels = c("Enero","Febrero","Marzo","Abril"))
str(tickets)
# el title es mas completo que el subgrupo en cuanto a detalles, de preferencia usar el primero, brinda mas data
tickets %>%  ggplot(aes(x=reorder(Title,Title,function(x)length(x))))+geom_bar()+coord_flip()+facet_grid(~mes)+labs(x="",y="conteo")
View(tickets_mes)
tickets$`Created at`<-parse_datetime(tickets$`Created at`)
tickets$`Updated at`<-parse_datetime(tickets$`Updated at`)
tickets$`Closed at`<-parse_datetime(tickets$`Closed at`)
tickets<-tickets %>% mutate(mes=month(`Created at`))
tickets<-tickets %>% mutate(mes=ifelse(mes=="1","Enero",ifelse(mes=="2","Febrero",ifelse(mes=="3","Marzo",
ifelse(mes=="4","Abril","")))))
tickets$mes<-parse_factor(tickets$mes,levels = c("Enero","Febrero","Marzo","Abril"))
tickets<-tickets %>% filter(mes!="")
# creando tablas resumen
tickets_mes<-tickets %>% count(mes,Title) %>% pivot_wider(names_from = mes,values_from = n) %>% arrange(-Marzo)
View(tickets_mes)
tickets<-tickets %>% na.omit(mes)
# creando tablas resumen
tickets_mes<-tickets %>% count(mes,Title) %>% pivot_wider(names_from = mes,values_from = n) %>% arrange(-Marzo)
tickets<-read_xls("tickets_enero_20abril_aflore.xls",skip = 2)
# como las fechas estan como carácteres y no date lo convertimos
tickets$`Created at`<-parse_datetime(tickets$`Created at`)
tickets$`Updated at`<-parse_datetime(tickets$`Updated at`)
tickets$`Closed at`<-parse_datetime(tickets$`Closed at`)
tickets<-tickets %>% mutate(mes=month(`Created at`))
tickets<-tickets %>% mutate(mes=ifelse(mes=="1","Enero",ifelse(mes=="2","Febrero",ifelse(mes=="3","Marzo",
ifelse(mes=="4","Abril","")))))
tickets$mes<-parse_factor(tickets$mes,levels = c("Enero","Febrero","Marzo","Abril"))
# creando tablas resumen
tickets_mes<-tickets %>% count(mes,Title) %>% pivot_wider(names_from = mes,values_from = n) %>% arrange(-Marzo)
unique(tickets$mes)
tickets %>% filter(mes !=NA)
View(tickets)
tickets %>% filter(mes !="NA")
tickets<-tickets %>% filter(mes !="NA")
unique(tickets$mes)
tickets<-tickets %>% filter(!is.na(mes))
tickets<-tickets %>% filter(!is.na(mes))
unique(tickets$mes)
tickets<-tickets %>% filter(mes!]="NA")
tickets<-tickets %>% filter(mes!="NA")
tickets<-tickets %>% filter(mes!="<NA>")
tickets<-tickets %>% filter(mes!=NA)
tickets<-read_xls("tickets_enero_20abril_aflore.xls",skip = 2)
# como las fechas estan como carácteres y no date lo convertimos
tickets$`Created at`<-parse_datetime(tickets$`Created at`)
tickets$`Updated at`<-parse_datetime(tickets$`Updated at`)
tickets$`Closed at`<-parse_datetime(tickets$`Closed at`)
tickets<-tickets %>% mutate(mes=month(`Created at`))
tickets<-tickets %>% mutate(mes=ifelse(mes=="1","Enero",ifelse(mes=="2","Febrero",ifelse(mes=="3","Marzo",
ifelse(mes=="4","Abril","")))))
tickets$mes<-parse_factor(tickets$mes,levels = c("Enero","Febrero","Marzo","Abril"))
tickets<-tickets %>% filter(!is.na(mes))
# creando tablas resumen
tickets_mes<-tickets %>% count(mes,Title) %>% pivot_wider(names_from = mes,values_from = n) %>% arrange(-Marzo)
tickets<-read_xls("tickets_enero_20abril_aflore.xls",skip = 2)
# como las fechas estan como carácteres y no date lo convertimos
tickets$`Created at`<-parse_datetime(tickets$`Created at`)
tickets$`Updated at`<-parse_datetime(tickets$`Updated at`)
tickets$`Closed at`<-parse_datetime(tickets$`Closed at`)
tickets<-tickets %>% mutate(mes=month(`Created at`))
#tickets<-tickets %>% mutate(mes=ifelse(mes=="1","Enero",ifelse(mes=="2","Febrero",ifelse(mes=="3","Marzo",
ifelse(mes=="4","Abril","")))))
#tickets$mes<-parse_factor(tickets$mes,levels = c("Enero","Febrero","Marzo","Abril"))
tickets<-tickets %>% filter(mes!="")
# creando tablas resumen
tickets_mes<-tickets %>% count(mes,Title) %>% pivot_wider(names_from = mes,values_from = n) %>% arrange(-3)
tickets %>% count(mes,Title) %>% pivot_wider(names_from = mes,values_from = n)
unique(tickets$Title)
unique(tickets$Title) %>% arrange()
tickets$Title %>% unique()
tickets$Title %>% unique() %>% arrange()
tickets$Title %>% unique() %>% arrange(Title)
tickets$Title %>% unique() %>% order_by(Title)
unique(tickets$Title)
library(stringr)
str_order(unique(tickets$Title))
str_order(unique(tickets$Title),numeric = FALSE)
tickets_mes$Title
ticket_comercial<-tickets %>% filter(Title %in% c("0001- Devolución de saldos por mayor valor pagado",
"0002 - Devolución de saldo de seguro",
"0003 - Inconsistencia con el pago de florines"  ,
"0004 - Certificación de consejero"   ,
"0006 - Certificación declaración de renta" ,
"0007- Estado de cuenta" ,
"0007-Estado de cuenta"  ,
"0008 - Solicitud de Paz y Salvo" ,
"0009 - Derecho de petición" ,
"0013 - Reintegro Consejero/Nombramiento Líder" ,
"0014 - Retiro Consejero/Líder"     ,
"0015 - Quitar y adicionar crédito de un corte",
"0016 - Revertir crédito",
"0017 - Mi Aflore - Consejero",
"0018 - Mi Aflore - Cliente",
"0019 - Llenada por Consejero",
"0020 - Llenada por Cliente",
"0022 - Falla en el proceso de desembolso Digital",
"0025 - Cancelación póliza",
"0027 - Problemas PBX",
"0054 - Problemas o cambios expansión geográfica",
"0057  - Problemas ARK o base de datos" ,
"0057 - Problemas ARK o base de datos",
"0059 - Corregir Abono negativo a capital",
"0060 - Pago duplicado"  ))
View(ticket_comercial)
tickets_comercial_tabla<-ticket_comercial %>% count(mes,Title) %>% pivot_wider(names_from = mes,values_from = n) %>% arrange(-`3`)
View(tickets_comercial_tabla)
kbl(tickets_comercial_tabla)
View(tickets_comercial_tabla)
ticket_comercial %>% ggplot(aes(x=Title))+geom_bar()
ticket_comercial %>% ggplot(aes(x=Title,fill=mes))+geom_bar()
ticket_comercial %>% count(mes,Title) %>% ggplot(aes(x=reorder(Title,Title,function(x)length(x))))+geom_bar()+coord_flip()+facet_grid(~mes)+labs(x="",y="conteo")
ticket_comercial %>% count(mes,Title) %>% ggplot(aes(x=Title))+geom_bar()+coord_flip()+labs(x="",y="conteo")
ticket_comercial %>% count(mes,Title) %>% ggplot(aes(x=Title,y=n))+geom_bar()+coord_flip()+labs(x="",y="conteo")
ticket_comercial %>% count(mes,Title) %>% ggplot(aes(x=Title,y=n))+geom_bar(stat = "identity")+coord_flip()+labs(x="",y="conteo")
ticket_comercial %>% count(mes,Title) %>% ggplot(aes(x=Title,y=n,fill=mes))+geom_bar(stat = "identity")+coord_flip()+labs(x="",y="conteo")
ticket_comercial %>% count(mes,Title) %>% ggplot(aes(x=Title,y=n,fill=mes))+geom_bar(stat = "identity",position = "dodge2")+coord_flip()+labs(x="",y="conteo")
>>>>>>> Stashed changes
install.packages("gganimate")
setwd("~/Documentos/GitHub/FINTECH/andrea_solicitud")
library(tidyverse)
library(readxl)
read_xlsx("application_bi.xlsx")
read_xlsx("applications_bi.xlsx")
applications_bi<-read_xlsx("applications_bi.xlsx")
gestioncomercial<-read_xlsx("gestion_comercial.xlsx")
str(applications_bi)
gestioncomercial %>% select(id)
applications_bi %>% select(ID,`Client ID`,`Created At`,Status,
`Client Document Number`,`Client Type Request`,
`Advisor ID`,`Client Type Request New`,`Aflore Product ID`)
applications_bi<-applications_bi %>% select(ID,`Client ID`,`Created At`,Status,
`Client Document Number`,`Client Type Request`,
`Advisor ID`,`Client Type Request New`,`Aflore Product ID`)
gestioncomercial %>% select(`Nombre Asesor`,`Numero De Documento`,Timestamp,`Nombre Asesor`,`Tipo De Persona`)
gestioncomercial<-gestioncomercial %>% select(`Nombre Asesor`,`Numero De Documento`,Timestamp,`Nombre Asesor`,`Tipo De Persona`)
View(applications_bi)
View(gestioncomercial)
gestioncomercial<-read_xlsx("gestion_comercial.xlsx")
gestioncomercial<-gestioncomercial %>% select(`Nombre Asesor`,`Numero De Documento`,
Timestamp,`Nombre Asesor`,`Tipo De Persona`,`Medio De Contacto`)
View(gestioncomercial)
gestioncomercial %>% ggplot(aes(x=`Medio De Contacto`))+geom_bar()
gestioncomercial %>% ggplot(aes(x=`Medio De Contacto`))+geom_count()
gestioncomercial %>% ggplot(aes(x=`Medio De Contacto`))+geom_bar()
View(gestioncomercial)
gestioncomercial %>% ggplot(aes(x=`Medio De Contacto`,fill=`Tipo De Persona`))+geom_bar()
gestioncomercial %>% ggplot(aes(x=`Medio De Contacto`,fill=`Tipo De Persona`))+geom_bar(position = "dodge")
gestioncomercial %>% ggplot(aes(x=`Medio De Contacto`,fill=`Tipo De Persona`))+geom_bar(position = "dodge2")
gestioncomercial %>% ggplot(aes(x=`Medio De Contacto`,fill=`Tipo De Persona`))+geom_bar(position = "dodge3")
applications_bi %>% left_join(gestioncomercial)
str(applications_bi)
str(gestioncomercial)
applications_bi %>% left_join(gestioncomercial,by = c("Numero De Documento"="Client Document Number"))
applications_bi %>% left_join(gestioncomercial,by = c("Client Document Number"="Numero De Documento"))
applications_bi %>% inner_join(gestioncomercial,by = c("Client Document Number"="Numero De Documento"))
newdata<-applications_bi %>% inner_join(gestioncomercial,by = c("Client Document Number"="Numero De Documento"))
View(newdata)
str(gestioncomercial)
range(gestioncomercial$Timestamp)
unique(gestioncomercial$`Nombre Asesor`)
unique(gestioncomercial$`Tipo De Persona`)
# filtering again
newdata %>% filter(`Tipo De Persona`=="Cliente")
# filtering again
newdata %>% filter(`Tipo De Persona`=="Cliente")
# filtering again
newdata %>% ggplot(aes(x=`Tipo De Persona`))+geom_bar()
View(newdata)
View(newdata)
newdata %>% filter(`Tipo De Persona`=="Cliente")
unique(newdata$`Client Type Request`)
newdata %>% filter(`Tipo De Persona`=="Cliente" & `Client Type Request`=="Nuevo")
newdata %>% filter(`Tipo De Persona`=="Cliente" & `Client Type Request`=="Nuevo" &
`Advisor ID` %in% c('23296','26508', '23313') & `Client Type Request New`=="Cliente directo")
View(newdata)
unique(newdata$`Aflore Product ID`)
newdata %>% filter(`Tipo De Persona`=="Cliente" & `Client Type Request`=="Nuevo" &
`Advisor ID` %in% c('23296','26508', '23313') & `Client Type Request New`=="Cliente directo" &
`Aflore Product ID`!="83")
newdata %>% filter(`Tipo De Persona`=="Cliente" & `Client Type Request`=="Nuevo" &
`Advisor ID` %in% c('23296','26508', '23313') & `Client Type Request New`=="Cliente directo")
# plots
gestioncomercial %>% ggplot(aes(x=`Medio De Contacto`,fill=`Tipo De Persona`))+geom_bar(position = "dodge2")
# filtering again
newdata %>% ggplot(aes(x=`Tipo De Persona`))+geom_bar()
# plots
gestioncomercial %>% ggplot(aes(x=`Medio De Contacto`,fill=`Tipo De Persona`))+geom_bar(position = "dodge2")
mensajes<-read_xlsx("onlymessages1.xlsx")
library(psych)
library(googlesheets4)
library(wordcloud)
library(tidytext)
library(writexl)
library(dplyr)
library(tidyr)
library(lubridate)
library(ggplot2)
mensajes<-read_xlsx("onlymessages1.xlsx")
library(readxl)
mensajes<-read_xlsx("onlymessages1.xlsx")
View(mensajes)
# lo ideal es buscar solo por un nombre porque si se busca por los dos nombres del CV los numeros se reducen bastante
coordinadores<-data.frame(x=c("Laura","Tatiana","Leidy","Luisa","Natalia","Eduardo"),y="")
coordinadores[1,2]<-length( grep("Laura",mensajes$Body))
View(coordinadores)
coordinadores[2,2]<-length( grep("Tatiana",mensajes$Body))
coordinadores[3,2]<-length( grep("Leidy",mensajes$Body))
coordinadores[4,2]<-length( grep("Luisa",mensajes$Body))
coordinadores[5,2]<-length( grep("Natalia",mensajes$Body))
coordinadores[6,2]<-length( grep("Eduardo",mensajes$Body))
View(coordinadores)
# lo ideal es buscar solo por un nombre porque si se busca por los dos nombres del CV los numeros se reducen bastante
coordinadores<-data.frame(x=c("Dulfay Linares","Esmeralda Correa","Jenny Rincón","Jhiovanni Vivas",
"Jose Luis Álvarez","Luz Dary Useche","María Paula Sarmiento",
"Nelson Rubio","Olga Alvarado","Sandra Herrera","Andrés Aguilar",
"Camilo Escobedo","Claudia Duque","Diego Cruz","Jessica Arias",
"Jorge Fernández","Paola Castro","Ruth Gonzalez"),y="")
View(coordinadores)
coordinadores[1,2]<-length( grep("Dulfay Linares, coordinadora virtual id 1001",mensajes$Body))
coordinadores[2,2]<-length( grep("Esmeralda Correa, coordinadora virtual id 1002",mensajes$Body))
coordinadores[3,2]<-length( grep("Jenny Rincón, coordinadora virtual id 1003",mensajes$Body))
coordinadores[4,2]<-length( grep("Jhiovanni Vivas, coordinador virtual id 1004",mensajes$Body))
coordinadores[5,2]<-length( grep("Jose Luis Álvarez, coordinador virtual id 1005",mensajes$Body))
coordinadores[6,2]<-length( grep("Luz Dary Useche, coordinadora virtual id 1006",mensajes$Body))
coordinadores[7,2]<-length( grep("María Paula Sarmiento, coordinadora virtual id 1007",mensajes$Body))
coordinadores[8,2]<-length( grep("Nelson Rubio, coordinador virtual id 1008",mensajes$Body))
coordinadores[9,2]<-length( grep("Olga Alvarado, coordinadora virtual id 1009",mensajes$Body))
coordinadores[10,2]<-length( grep("Sandra Herrera, coordinadora virtual id 1010",mensajes$Body))
coordinadores[11,2]<-length( grep("Andrés Aguilar, coordinador virtual id 2001",mensajes$Body))
coordinadores[12,2]<-length( grep("Camilo Escobedo, coordinador virtual id 2002",mensajes$Body))
coordinadores[13,2]<-length( grep("Claudia Duque, coordinadora virtual id 2003",mensajes$Body))
coordinadores[14,2]<-length( grep("Diego Cruz, coordinador virtual id 2004",mensajes$Body))
coordinadores[15,2]<-length( grep("Jessica Arias, coordinadora virtual id 2005",mensajes$Body))
coordinadores[16,2]<-length( grep("Jorge Fernández, coordinador virtual id 2006",mensajes$Body))
coordinadores[17,2]<-length( grep("Paola Castro, coordinadora virtual id 2007",mensajes$Body))
coordinadores[18,2]<-length( grep("Ruth Gonzalez, coordinadora virtual id 2008",mensajes$Body))
View(coordinadores)
View(mensajes)
View(mensajes)
View(coordinadores)
coordinadores[1,2]<-length( grep("Dulfay Linares, coordinadora virtual id 1001",mensajes$Body))
coordinadores[1,2]<-length( grep("Dulfay Linares, coordinadora virtual id 1001",mensajes$Body))
View(coordinadores)
# hay problema con jose luis y jose jhiovanni porque se repite el nombre jose
length( grep("Dulfay Linares, coordinadora virtual id 1001",mensajes$Body))
# hay problema con jose luis y jose jhiovanni porque se repite el nombre jose
length( grep("Dulfay Linares,coordinadora virtual id 1001",mensajes$Body))
# hay problema con jose luis y jose jhiovanni porque se repite el nombre jose
length( grep("Dulfay Linares",mensajes$Body))
# hay problema con jose luis y jose jhiovanni porque se repite el nombre jose
length( grep("Dulfay Linares, coordinadora ",mensajes$Body))
# hay problema con jose luis y jose jhiovanni porque se repite el nombre jose
length( grep("Dulfay Linares,",mensajes$Body))
# hay problema con jose luis y jose jhiovanni porque se repite el nombre jose
length( grep("id 1001",mensajes$Body))
grep("id 1001",mensajes$Body)
mensajes$Body[grep("id 1001",mensajes$Body)]
coordinadores[1,2]<-length( grep("id 1001",mensajes$Body))
coordinadores[2,2]<-length( grep("id 1002",mensajes$Body))
coordinadores[3,2]<-length( grep("id 1003",mensajes$Body))
coordinadores[4,2]<-length( grep("id 1004",mensajes$Body))
coordinadores[5,2]<-length( grep("id 1005",mensajes$Body))
coordinadores[6,2]<-length( grep("id 1006",mensajes$Body))
coordinadores[7,2]<-length( grep("id 1007",mensajes$Body))
coordinadores[8,2]<-length( grep("id 1008",mensajes$Body))
coordinadores[9,2]<-length( grep("id 1009",mensajes$Body))
coordinadores[10,2]<-length( grep("id 1010",mensajes$Body))
coordinadores[11,2]<-length( grep("id 2001",mensajes$Body))
coordinadores[12,2]<-length( grep("id 2002",mensajes$Body))
coordinadores[13,2]<-length( grep("id 2003",mensajes$Body))
coordinadores[14,2]<-length( grep("id 2004",mensajes$Body))
coordinadores[15,2]<-length( grep("id 2005",mensajes$Body))
coordinadores[16,2]<-length( grep("id 2006",mensajes$Body))
coordinadores[17,2]<-length( grep("id 2007",mensajes$Body))
coordinadores[18,2]<-length( grep("id 2008",mensajes$Body))
View(coordinadores)
grep("id 1001",mensajes$Body)
coordinadores %>% mutate(y=y/2)
coordinadores %>% mutate(pi=y/2)
mensajes$Body(grep("id 1001",mensajes$Body))
mensajes$Body(grep("id 1001",mensajes$Body))
str(coordinadores)
as.numeric(coordinadores$y)
View(coordinadores)
as.numeric(coordinadores$y)
coordinadores$y<-as.numeric(coordinadores$y)
coordinadores %>% mutate(gestiones=y/2)
coordinadores<-coordinadores %>% mutate(gestiones=y/2)
coordinadores
coordinadores %>% ggplot(aes(x=x,y=y))+geom_bar()
coordinadores %>% ggplot(aes(x=x,y=y))+geom_bar(stat = "identity")
coordinadores %>% ggplot(aes(x=x,y=y,label=y))+geom_bar(stat = "identity")+geom_text()
coordinadores %>% ggplot(aes(x=x,y=y,label=y))+geom_bar(stat = "identity")+geom_text()+coord_flip()
coordinadores %>% ggplot(aes(x=reorder(x,y),y=y,label=y))+geom_bar(stat = "identity")+geom_text()+coord_flip()
View(coordinadores)
coordinadores1<-data.frame(x=c("Dulfay Linares","Esmeralda Correa","Jenny Rincón","Jhiovanni Vivas",
"Jose Luis Álvarez","Luz Dary Useche","María Paula Sarmiento",
"Nelson Rubio","Olga Alvarado","Sandra Herrera","Andrés Aguilar",
"Camilo Escobedo","Claudia Duque","Diego Cruz","Jessica Arias",
"Jorge Fernández","Paola Castro","Ruth Gonzalez"),y="")
coordinadores1[1,2]<-length( grep("Dulfay Linares, coordinadora virtual id 1001",mensajes$Body))
coordinadores1[2,2]<-length( grep("Esmeralda Correa, coordinadora virtual id 1002",mensajes$Body))
coordinadores1[3,2]<-length( grep("Jenny Rincón, coordinadora virtual id 1003",mensajes$Body))
coordinadores1[4,2]<-length( grep("Jhiovanni Vivas, coordinador virtual id 1004",mensajes$Body))
coordinadores1[5,2]<-length( grep("Jose Luis Álvarez, coordinador virtual id 1005",mensajes$Body))
coordinadores1[6,2]<-length( grep("Luz Dary Useche, coordinadora virtual id 1006",mensajes$Body))
coordinadores1[7,2]<-length( grep("María Paula Sarmiento, coordinadora virtual id 1007",mensajes$Body))
coordinadores1[8,2]<-length( grep("Nelson Rubio, coordinador virtual id 1008",mensajes$Body))
coordinadores1[9,2]<-length( grep("Olga Alvarado, coordinadora virtual id 1009",mensajes$Body))
coordinadores1[10,2]<-length( grep("Sandra Herrera, coordinadora virtual id 1010",mensajes$Body))
coordinadores1[11,2]<-length( grep("Andrés Aguilar, coordinador virtual id 2001",mensajes$Body))
coordinadores1[12,2]<-length( grep("Camilo Escobedo, coordinador virtual id 2002",mensajes$Body))
coordinadores1[13,2]<-length( grep("Claudia Duque, coordinadora virtual id 2003",mensajes$Body))
coordinadores1[14,2]<-length( grep("Diego Cruz, coordinador virtual id 2004",mensajes$Body))
coordinadores1[15,2]<-length( grep("Jessica Arias, coordinadora virtual id 2005",mensajes$Body))
coordinadores1[16,2]<-length( grep("Jorge Fernández, coordinador virtual id 2006",mensajes$Body))
coordinadores1[17,2]<-length( grep("Paola Castro, coordinadora virtual id 2007",mensajes$Body))
coordinadores1[18,2]<-length( grep("Ruth Gonzalez, coordinadora virtual id 2008",mensajes$Body))
coordinadores1 %>% ggplot(aes(x=reorder(x,y),y=y,label=y))+geom_bar(stat = "identity")+geom_text()+coord_flip()
View(coordinadores1)
str(coordinadores1)
grep("id 1008",mensajes$Body
grep("id 1008",mensajes$Body)
grep("id 1008",mensajes$Body)
coordinadores %>% ggplot(aes(x=reorder(x,y),y=y,label=y))+geom_bar(stat = "identity")+geom_text()+coord_flip()
coordinadores %>% ggplot(aes(x=reorder(x,y),y=y,label=y))+geom_bar(stat = "identity",fill="lightblue")+geom_text()+coord_flip()+
labs(x="",y="veces de id",title = "Numero de veces que aparece el id único por CV")
coordinadores %>% ggplot(aes(x=reorder(x,y),y=y,label=y))+geom_bar(stat = "identity",fill="lightblue")+geom_text()+coord_flip()+
labs(x="",y="veces de id",title = "Numero de veces que aparece el id único por CV",
caption = "Si el id se menciona en el saludo y al despedirse, las gestiones deberian ser la mitad")
coordinadores %>% ggplot(aes(x=reorder(x,y),y=y,label=y))+geom_bar(stat = "identity",fill="lightblue")+geom_text()+coord_flip()+
labs(x="",y="veces de id unico por cv",title = "Numero de veces que aparece el id único por CV",
caption = "Si el id se menciona en el saludo y al despedirse, las gestiones deberian ser la mitad")
