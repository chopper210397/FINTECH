# contando el n칰mero de veces que se us칩 cada palabra
word_counted<-text_df %>% unnest_tokens(word,text) %>% count(word,sort = TRUE) %>% mutate(word = reorder(word, n))
# graficando las palabras m치s usadas
text_df %>% unnest_tokens(word,text) %>% count(word,sort = TRUE) %>%
filter(n>60000) %>% mutate(word = reorder(word, n)) %>%
ggplot(aes(n, word)) +
geom_col() +
labs(y = NULL)
# contando las menciones a los cv, aqui salen numeros un poco mayores porque todos estan en minuscula
word_counted %>% filter(word %in% c("laura","tatiana","leidy","luisa","natalia","eduardo"))
View(mensajes)
word_counted %>% filter(word %in% c("laura","tatiana","leidy","luisa","natalia","eduardo","jose luis"))
word_counted %>% filter(word %in% c("laura","tatiana","leidy","luisa","natalia","eduardo","jose"))
word_counted %>% filter(word %in% c("laura","tatiana","leidy","luisa","natalia","eduardo","luis"))
word_counted %>% filter(word %in% c("laura","tatiana","leidy","luisa","natalia","eduardo","jose","johany"))
word_counted %>% filter(word %in% c("laura","tatiana","leidy","luisa","natalia","eduardo","jose","jhovanny"))
word_counted %>% filter(word %in% c("laura","tatiana","leidy","luisa","natalia","eduardo","jose","jhovanni"))
word_counted %>% filter(word %in% c("laura","tatiana","leidy","luisa","natalia","eduardo","jose","jhiovanni"))
word_counted %>% filter(word %in% c("laura","tatiana","leidy","luisa","natalia","eduardo","jose","jhiovanni",
"dulfay"))
word_counted %>% filter(word %in% c("laura","tatiana","leidy","luisa","natalia","eduardo","jose","jhiovanni",
"dulfay","luz"))
word_counted %>% filter(word %in% c("laura","tatiana","leidy","luisa","natalia","eduardo","jose","jhiovanni",
"dulfay","luz","esmeralda"))
word_counted %>% filter(word %in% c("laura","tatiana","leidy","luisa","natalia","eduardo","jose","jhiovanni",
"dulfay","luz","esmeralda","sandra"))
word_counted %>% filter(word %in% c("laura","tatiana","leidy","luisa","natalia","eduardo","jose","jhiovanni",
"dulfay","luz","esmeralda","sandra","jenny"))
word_counted %>% filter(word %in% c("laura","tatiana","leidy","luisa","natalia","eduardo","jose","jhiovanni",
"dulfay","luz","esmeralda","sandra","jenny","nelson"))
word_counted %>% filter(word %in% c("laura","tatiana","leidy","luisa","natalia","eduardo","jose","jhiovanni",
"dulfay","luz","esmeralda","sandra","jenny","nelson","olga"))
word_counted %>% filter(word %in% c("jose","jhiovanni",
"dulfay","luz","esmeralda","sandra","jenny","nelson","olga"))
View(word_counted)
length( grep("Jose Luis",mensajes$Body))
length( grep("Jose luis",mensajes$Body))
length( grep("Jose Luis",mensajes$Body))
length( grep("Jose jhiovanni",mensajes$Body))
length( grep("Jose Jhiovanni",mensajes$Body))
word_counted %>% filter(word %in% c("jose","jhiovanni",
"dulfay","luz","esmeralda","sandra","jenny","nelson","olga"))
word_counted %>% filter(word %in% c("luis","jhiovanni",
"dulfay","luz","esmeralda","sandra","jenny","nelson","olga"))
View(mensajes)
View(mensajes)
# contando las menciones a los cv, aqui salen numeros un poco mayores porque todos estan en minuscula
word_counted %>% filter(word %in% c("laura","tatiana","leidy","luisa","natalia","eduardo"))
word_counted %>% filter(word %in% c("luis","jhiovanni",
"dulfay","luz","esmeralda","sandra","jenny","nelson","olga"))
View(mensajes)
# hay problema con jose luis y jose jhiovanni porque se repite el nombre jose
length( grep("Jose Jhiovanni",mensajes$Body))
View(mensajes)
# hay problema con jose luis y jose jhiovanni porque se repite el nombre jose
length( grep("Jose Jhiovanni Vivas",mensajes$Body))
# hay problema con jose luis y jose jhiovanni porque se repite el nombre jose
length( grep("soy Jose Jhiovanni Vivas",mensajes$Body))
# graficando las palabras m치s usadas
text_df %>% unnest_tokens(word,text) %>% count(word,sort = TRUE) %>%
filter(n>60000) %>% mutate(word = reorder(word, n)) %>%
ggplot(aes(n, word)) +
geom_col() +
labs(y = NULL)
twilio_wthsp<-read_xlsx("twilio_wthsp_messages.xlsx")
View(twilio_wthsp)
twilio_wthsp$status
unique(twilio_wthsp$status)
unique(twilio_wthsp$price)
View(twilio_wthsp)
View(mensajes)
mensajes[199]
mensajes$Body[199]
length( grep("游녦",mensajes$Body))
length( grep("游녦",mensajes$Body[2]))
length( grep("游녦",mensajes$Body[199]))
View(twilio_wthsp)
colnames(twilio_wthsp)[6]<-"from"
colnames(twilio_wthsp)[14]<-"to"
# nube de palabras m치s usadas
word_counted %>%
with(wordcloud(word, n, max.words = 100))
View(twilio_wthsp)
library(readr)
library(readxl)
library(lubridate)
library(dplyr)
library(ggplot2)
library(tidyr)
View(twilio_wthsp)
twilio_wthsp %>% filter(to=="whatsapp:+573043464061")
twilio_wthsp %>% filter(to=="whatsapp:+573043464061") %>% order_by(date_created)
twilio_wthsp %>% filter(to=="whatsapp:+573043464061") %>% arrange(date_created)
callsto<-twilio_wthsp %>% filter(to=="whatsapp:+573043464061") %>% arrange(date_created)
View(callsto)
callsto<-twilio_wthsp %>% filter(to=="whatsapp:+573127930397") %>% arrange(date_created)
View(callsto)
View(twilio_wthsp)
callsto<-twilio_wthsp %>% filter(to=="whatsapp:+573142058679") %>% arrange(date_created)
View(callsto)
range(twilio_wthsp$date_sent)
# buscar por from y to y tratar de reconstruir una conversaci칩n en base a una variable tiempo, esto poder unirlo
# el identifiacdor unico podria ser un emoji
# debo probar primero con la data de un d칤a a ver que conversaciones obtengo, me interesa las columnas
# from, to, el body y alguna variable de fecha
twilio_wthsp_27_29<-read_xlsx("twilio_wthsp_messages_27_29.xlsx")
View(twilio_wthsp_27_29)
twilio_wthsp_27_29<-twilio_wthsp_27_29 %>% select(-`Num Segments`)
twilio_wthsp_27_29<-twilio_wthsp_27_29 %>% select(-c(`Num Segments`,`Account Sid`,`Num Media`))
# buscar por from y to y tratar de reconstruir una conversaci칩n en base a una variable tiempo, esto poder unirlo
# el identifiacdor unico podria ser un emoji
# debo probar primero con la data de un d칤a a ver que conversaciones obtengo, me interesa las columnas
# from, to, el body y alguna variable de fecha
twilio_wthsp_27_29<-read_xlsx("twilio_wthsp_messages_27_29.xlsx")
twilio_wthsp_27_29<-twilio_wthsp_27_29 %>% select(-c(`Num Segments`,`Account Sid`,`Num Media`))
callsto<-twilio_wthsp_27_29 %>% filter(to=="whatsapp:+573103394450") %>% arrange(date_created)
callsto<-twilio_wthsp_27_29 %>% filter(To=="whatsapp:+573103394450") %>% arrange(date_created)
callsto<-twilio_wthsp_27_29 %>% filter(To=="whatsapp:+573103394450") %>% arrange(`Date Created`)
View(callsto)
callsto<-twilio_wthsp_27_29 %>% filter(To=="whatsapp:+573103394450") %>% arrange(`Date Sent`)
View(callsto)
callsto<-twilio_wthsp_27_29 %>% filter(To=="whatsapp:+573246578599") %>% arrange(`Date Sent`)
View(callsto)
callsto<-twilio_wthsp_27_29 %>% filter(To=="whatsapp:+573246578599" | From=="whatsapp:+573246578599") %>% arrange(`Date Sent`)
View(callsto)
callsto2<-twilio_wthsp_27_29 %>% filter(To=="whatsapp:+12563045136" | From=="whatsapp:+12563045136") %>% arrange(`Date Sent`)
View(callsto2)
twilio_wthsp_27_29$Direction
unique(twilio_wthsp_27_29$Direction)
callsto2<-twilio_wthsp_27_29 %>% filter(To=="whatsapp:+573134094551" | From=="whatsapp:+573134094551") %>% arrange(`Date Sent`)
View(callsto2)
callsto3<-twilio_wthsp_27_29 %>% filter(To=="whatsapp:+573227604074" | From=="whatsapp:+573227604074") %>% arrange(`Date Sent`)
View(callsto3)
#                                 1. primero seleccionaremos todos los inbound
twilio_wthsp_27_29 %>% filter(Direction=="inbound")
#                                 1. primero seleccionaremos todos los inbound
twilio_wthsp_27_29 %>% filter(Direction=="inbound") %>% select(From)
#                                 1. primero seleccionaremos todos los inbound
numerosinbound<-twilio_wthsp_27_29 %>% filter(Direction=="inbound") %>% select(From)
View(numerosinbound)
numerosinbound[1]
numerosinbound$From[1]
length(numerosinbound$From)
numerodefilas<-length(numerosinbound$From)
for (i in numerodefilas) {
numerosinbound$From[i]
}
for (i in 1:numerodefilas) {
numerosinbound$From[i]
}
for (i in 1:numerodefilas) {
print(numerosinbound$From[i] )
}
unique(numerosinbound$From)
numerosinbound<-unique(numerosinbound$From)
#                                 1. primero seleccionaremos todos los inbound, estos serian los n칰meros de los que han contestado
numerosinbound<-twilio_wthsp_27_29 %>% filter(Direction=="inbound") %>% select(From)
numerosinboundunicos<-unique(numerosinbound$From)
numerodefilas<-length(numerosinboundunicos)
for (i in 1:numerodefilas) {
print(numerosinbound$From[i] )
}
numerosinboundunicos[1]
numerosinboundunicos
for (i in 1:numerodefilas) {
print(twilio_wthsp_27_29 %>% filter(To==numerosinboundunicos[i] | From==numerosinboundunicos[i]) %>% arrange(`Date Sent`) )
}
df_list<-rbind(lista1:paste0(lista,numerodefilas))
df_list<-rbind(listai:paste0(lista,numerodefilas))
df_list<-rbind(paste0(lista,i):paste0(lista,numerodefilas))
paste0(lista,i)<-twilio_wthsp_27_29 %>% filter(To==numerosinboundunicos[i] | From==numerosinboundunicos[i]) %>% arrange(`Date Sent`)
# maybe trying with lists...
for (i in 1:numerodefilas) {
lista<-twilio_wthsp_27_29 %>% filter(To==numerosinboundunicos[i] | From==numerosinboundunicos[i]) %>% arrange(`Date Sent`)
}
# maybe trying with lists...
lista<-c()
for (i in 1:numerodefilas) {
paste0(lista,i)<-twilio_wthsp_27_29 %>% filter(To==numerosinboundunicos[i] | From==numerosinboundunicos[i]) %>% arrange(`Date Sent`)
}
paste0(lista,i)<-twilio_wthsp_27_29 %>% filter(To==numerosinboundunicos[i] | From==numerosinboundunicos[i]) %>% arrange(`Date Sent`)
paste0(lista,i) <-twilio_wthsp_27_29 %>% filter(To==numerosinboundunicos[i] | From==numerosinboundunicos[i]) %>% arrange(`Date Sent`)
lista[i]<-twilio_wthsp_27_29 %>% filter(To==numerosinboundunicos[i] | From==numerosinboundunicos[i]) %>% arrange(`Date Sent`)
lista<-twilio_wthsp_27_29 %>% filter(To==numerosinboundunicos[i] | From==numerosinboundunicos[i]) %>% arrange(`Date Sent`)
for (i in 1:numerodefilas) {
lista<-twilio_wthsp_27_29 %>% filter(To==numerosinboundunicos[i] | From==numerosinboundunicos[i]) %>% arrange(`Date Sent`)
}
for (i in 1:numerodefilas) {
lista[[i]]<-twilio_wthsp_27_29 %>% filter(To==numerosinboundunicos[i] | From==numerosinboundunicos[i]) %>% arrange(`Date Sent`)
}
A <- lapply (1 : 10, function (x) d + rnorm (3))
d<-1
A <- lapply (1 : 10, function (x) d + rnorm (3))
View(A)
for (i in 1:numerodefilas) {
lista<-twilio_wthsp_27_29 %>% filter(To==numerosinboundunicos[i] | From==numerosinboundunicos[i]) %>% arrange(`Date Sent`)
lapply(1:numerodefilas, function(x) lista)
}
View(lista)
View(A)
for (i in 1:numerodefilas) {
lista<-twilio_wthsp_27_29 %>% filter(To==numerosinboundunicos[i] | From==numerosinboundunicos[i]) %>% arrange(`Date Sent`)
A<-lapply(1:numerodefilas, function(x) lista)
}
View(A)
View(lista)
for (i in 1:numerodefilas) {
A<-lapply(1:numerodefilas,
twilio_wthsp_27_29 %>% filter(To==numerosinboundunicos[i] | From==numerosinboundunicos[i]) %>% arrange(`Date Sent`) )
}
A<-lapply(1:numerodefilas,function(x)twilio_wthsp_27_29 %>% filter(To==numerosinboundunicos[i] | From==numerosinboundunicos[i]) %>% arrange(`Date Sent`) )
View(A)
for (i in 1:numerodefilas) {
A<-lapply(1:numerodefilas,function(x)twilio_wthsp_27_29 %>% filter(To==numerosinboundunicos[i] | From==numerosinboundunicos[i]) %>% arrange(`Date Sent`) )
}
assign(nombre)
nombre<-c()
assign(nombre,1:10)
d<-1:3
fun<-function(x){x^2}
lapply(d,fun)
lapply(d,function(x)paste0(d,1))
a<-lapply(d,function(x)paste0(d,1))
View(a)
a<-sapply(d,function(x)paste0(d,1))
View(A)
View(a)
View(lista)
lista[1,2]
for (i in 1:numerodefilas) {
lista[i,]<-twilio_wthsp_27_29 %>% filter(To==numerosinboundunicos[i] | From==numerosinboundunicos[i]) %>% arrange(`Date Sent`)
}
for (i in 1:numerodefilas) {
assign(paste0("DF",i), twilio_wthsp_27_29 %>% filter(To==numerosinboundunicos[i] | From==numerosinboundunicos[i]) %>% arrange(`Date Sent`))
}
View(a)
View(DF1)
paste0("DF",seq(1,numerodefilas))
DFTOTAL<-rbind(  paste0("DF",seq(1,numerodefilas))   )
DFTOTAL<-rbind(  paste0("DF",seq(1,numerodefilas))   )
DFTOTAL
rm(paste0("DF",seq(1,numerodefilas)))
rm(list=paste0("DF",seq(1,numerodefilas)))
View(DFTOTAL)
for (i in 1:numerodefilas) {
assign(paste0("DF",i), twilio_wthsp_27_29 %>% filter(To==numerosinboundunicos[i] | From==numerosinboundunicos[i]) %>% arrange(`Date Sent`))
}
paste0("DF",seq(1,numerodefilas))
DFTOTAL<-rbind(  paste0("DF1","DF2"   ))
DFTOTAL
DFTOTAL<-rbind(  "DF1","DF2"   )
DFTOTAL
DFTOTAL<-rbind(  DF1,DF2   )
DFTOTAL
foo<-list(paste0("DF",seq(1,numerodefilas)))
foo
do.call(rbind,foo)
do.call(rbind.data.frame,mget( paste0("DF",seq(1,numerodefilas))))
DFTOTAL<-do.call(rbind.data.frame,mget( paste0("DF",seq(1,numerodefilas))))
rm(list=paste0("DF",seq(1,numerodefilas)))
View(DFTOTAL)
paste0("DF",seq(1,numerodefilas))
for (i in 1:numerodefilas) {
assign(paste0("DF",i), twilio_wthsp_27_29 %>% filter(To==numerosinboundunicos[i] | From==numerosinboundunicos[i]) %>% arrange(`Date Sent`))
}
DFTOTAL<-do.call(rbind.data.frame,get( paste0("DF",seq(1,numerodefilas)) ))
DFTOTAL<-do.call(rbind.data.frame,mget( paste0("DF",seq(1,numerodefilas)) ))
View(DFTOTAL)
rm(list=paste0("DF",seq(1,numerodefilas)))
# install.packages("tidytext")
# install.packages("wordcloud")
install.packages("googlesheets4")
# install.packages("tidytext")
# install.packages("wordcloud")
# install.packages("googlesheets4")
library(googlesheets4)
ss3 <- gs4_create(
"TWILIO_WTHSP_MENSAJES",
sheets = DFTOTAL
)
View(DFTOTAL)
DFTOTAL<-DFTOTAL %>% select(`Date Sent`,Body)
#                           3. Creando googlesheet donde pondremos los mensajes
ss3 <- gs4_create(
"TWILIO_WTHSP_MENSAJES",
sheets = DFTOTAL
)
sheet_write(DFTOTAL, ss = ss3)
sheet_write(DFTOTAL, ss = ss3,sheet = "DFTOTAL")
twilio_wthsp_27_29<-read_xlsx("twilio_wthsp_messages_18_22.xlsx")
twilio_wthsp_27_29<-twilio_wthsp_27_29 %>% select(-c(`Num Segments`,`Account Sid`,`Num Media`))
View(DFTOTAL)
# parece que al ordenarlo por date sent si tiene sentido la conversaci칩n
callsto<-twilio_wthsp_27_29 %>% filter(To=="whatsapp:+573118522234" | From=="whatsapp:+573118522234") %>% arrange(`Date Sent`)
View(callsto)
library(writexl)
write_xlsx(callsto,"mensajeacoso.xlsx")
# 1 al 31 de marzo
library(readr)
library(readxl)
library(lubridate)
library(dplyr)
library(ggplot2)
library(tidyr)
actividad<-read_csv("kpi_actividad.csv")
str(actividad)
actividad %>% filter(`Coordinador virtual`!="Total")%>%
ggplot(aes(x=`Coordinador virtual`,y=`Valores de medidas`,fill=`Nombres de medidas`))+
geom_bar(stat = "identity",position = "dodge2")
actividad %>% filter(`Nombres de medidas`%in% c("% RR Creditos Renovacion",
"% IAS con Credito Renovacion",
"% RR Creditos Nuevos",
"% IAS con Credito Nuevo",
"% RR Creditos Total",
"% IAS con Credito Total")) %>%
filter(`Coordinador virtual`!="Total")%>%
ggplot(aes(x=`Coordinador virtual`,y=`Valores de medidas`,fill=`Nombres de medidas`))+
geom_bar(stat = "identity",position = "dodge2")+geom_hline(yintercept = 1,linetype='dashed')
ggsave("actividadporcentajeskpi.png", dpi=800,width = 14,height = 7)
# analisis por totales de kpis actividad
actividad %>% filter(`Nombres de medidas`%in% c("% RR Creditos Renovacion",
"% IAS con Credito Renovacion",
"% RR Creditos Nuevos",
"% IAS con Credito Nuevo",
"% RR Creditos Total",
"% IAS con Credito Total")) %>%
filter(`Coordinador virtual`=="Total")%>%
ggplot(aes(x=`Coordinador virtual`,y=`Valores de medidas`,fill=`Nombres de medidas`))+
geom_bar(stat = "identity",position = "dodge2")+geom_hline(yintercept = 1,linetype='dashed')+
labs(title = "Total por kpi actividad en marzo (todo el grupo en conjunto)",
caption = "Resultado de todo el grupo en conjunto",x="",y="")
ggsave("totalactividadporcentajeskpi.png", dpi=800)
# analisis por totales de kpis actividad
actividad %>% filter(`Nombres de medidas`%in% c("% RR Creditos Renovacion",
"% IAS con Credito Renovacion",
"% RR Creditos Nuevos",
"% IAS con Credito Nuevo",
"% RR Creditos Total",
"% IAS con Credito Total")) %>%
filter(`Coordinador virtual`=="Total")%>%
ggplot(aes(x=`Coordinador virtual`,y=`Valores de medidas`,fill=`Nombres de medidas`))+
geom_bar(stat = "identity",position = "dodge2")+geom_hline(yintercept = 1,linetype='dashed')+
labs(title = "Total por kpi actividad en marzo (todo el grupo en conjunto)",
caption = "Resultado de todo el grupo en conjunto",x="",y="")
# analisis por totales de kpis actividad
actividad %>% filter(`Nombres de medidas`%in% c("% RR Creditos Renovacion",
"% IAS con Credito Renovacion",
"% RR Creditos Nuevos",
"% IAS con Credito Nuevo",
"% RR Creditos Total",
"% IAS con Credito Total")) %>%
filter(`Coordinador virtual`=="Total")%>%
ggplot(aes(x=`Coordinador virtual`,y=`Valores de medidas`,fill=`Nombres de medidas`))+
geom_bar(stat = "identity",position = "dodge2")+geom_hline(yintercept = 1,linetype='dashed')+
labs(title = "Total por kpi actividad en marzo",
caption = "Resultado de todo el grupo en conjunto",x="",y="")
ggsave("totalactividadporcentajeskpi.png", dpi=800,width = 10,height = 10)
# analisis por totales de kpis actividad
actividad %>% filter(`Nombres de medidas`%in% c("% RR Creditos Renovacion",
"% IAS con Credito Renovacion",
"% RR Creditos Nuevos",
"% IAS con Credito Nuevo",
"% RR Creditos Total",
"% IAS con Credito Total")) %>%
filter(`Coordinador virtual`=="Total")%>%
ggplot(aes(x=`Coordinador virtual`,y=`Valores de medidas`,fill=`Nombres de medidas`))+
geom_bar(stat = "identity",position = "dodge2")+geom_hline(yintercept = 1,linetype='dashed')+
labs(title = "Total por kpi actividad en marzo",
caption = "Resultado de todo el grupo en conjunto",x="",y="")
ggsave("totalactividadporcentajeskpi.png", dpi=800,width = 10,height = 13)
# analisis por totales de kpis actividad
actividad %>% filter(`Nombres de medidas`%in% c("% RR Creditos Renovacion",
"% IAS con Credito Renovacion",
"% RR Creditos Nuevos",
"% IAS con Credito Nuevo",
"% RR Creditos Total",
"% IAS con Credito Total")) %>%
filter(`Coordinador virtual`=="Total")%>%
ggplot(aes(x=`Coordinador virtual`,y=`Valores de medidas`,fill=`Nombres de medidas`))+
geom_bar(stat = "identity",position = "dodge2")+geom_hline(yintercept = 1,linetype='dashed')+
labs(title = "Total por kpi actividad en marzo",
caption = "Resultado de todo el grupo en conjunto",x="",y="")
ggsave("totalactividadporcentajeskpi.png", dpi=800,width = 13,height = 10)
# analisis por totales de kpis actividad
actividad %>% filter(`Nombres de medidas`%in% c("% RR Creditos Renovacion",
"% IAS con Credito Renovacion",
"% RR Creditos Nuevos",
"% IAS con Credito Nuevo",
"% RR Creditos Total",
"% IAS con Credito Total")) %>%
filter(`Coordinador virtual`=="Total")%>%
ggplot(aes(x=`Coordinador virtual`,y=`Valores de medidas`,fill=`Nombres de medidas`))+
geom_bar(stat = "identity",position = "dodge2")+geom_hline(yintercept = 1,linetype='dashed')+
labs(title = "Total por kpi actividad en marzo",
caption = "Resultado de todo el grupo en conjunto",x="",y="")
ggsave("totalactividadporcentajeskpi.png", dpi=800)
#------------------------------------------ gestion prioridades ------------------------------------------#
prioridades<-read_xlsx("gestion_prioridades.xlsx")
str(prioridades)
prioridades %>% ggplot(aes(x=tipo,y=variable))+geom_bar()
prioridades %>% ggplot(aes(x=tipo,y=numero))+geom_bar()
prioridades %>% ggplot(aes(x=tipo,y=numero))+geom_bar(stat = "identity")
prioridades %>% ggplot(aes(x=tipo,y=numero,fill=variable))+geom_bar(stat = "identity")
View(prioridades)
unique(prioridades$tipo)
prioridades %>%filter(tipo=="Total general") %>%  ggplot(aes(x=tipo,y=numero,fill=variable))+geom_bar(stat = "identity")
prioridades %>%filter(tipo=="Total general") %>%  ggplot(aes(x=tipo,y=numero,fill=variable))+
geom_bar(stat = "identity",position = "dodge2")
prioridades %>%filter(tipo=="Total general") %>%  ggplot(aes(x=tipo,y=numero,fill=variable))+
geom_bar(stat = "identity",position = "dodge2")+facet_grid(.~variable)
prioridades %>%filter(tipo=="Total general") %>%  ggplot(aes(x=tipo,y=numero))+
geom_bar(stat = "identity",position = "dodge2")+facet_grid(.~variable)
prioridades %>%filter(tipo!="Total general") %>%  ggplot(aes(x=tipo,y=numero))+
geom_bar(stat = "identity",position = "dodge2")+facet_grid(.~variable)
prioridades %>%filter(tipo!="Total general") %>%  ggplot(aes(x=tipo,y=numero))+
geom_bar(stat = "identity",position = "dodge2")
prioridades %>%filter(tipo!="Total general") %>%  ggplot(aes(x=tipo,y=numero,fill=variable))+
geom_bar(stat = "identity",position = "dodge2")
unique(prioridades$variable)
prioridades %>%filter(tipo!="Total general") %>%
filter(variable %in% c("% Enviando","% Gestionados","% Contactados","% Activos","% Conv Solicitud","% Conv Actv" ) ) %>%
ggplot(aes(x=tipo,y=numero,fill=variable))+
geom_bar(stat = "identity",position = "dodge2")
prioridades %>%filter(tipo!="Total general") %>%
filter(variable %in% c("% Enviando","% Gestionados","% Contactados","% Activos","% Conv Solicitud","% Conv Actv" ) ) %>%
ggplot(aes(x=tipo,y=numero,fill=variable))+
geom_bar(stat = "identity",position = "dodge2")+coord_flip()
prioridades %>%filter(tipo!="Total general") %>%
filter(variable %in% c("% Enviando","% Gestionados","% Contactados","% Activos","% Conv Solicitud","% Conv Actv" ) ) %>%
ggplot(aes(x=tipo,y=numero,fill=variable))+
geom_bar(stat = "identity",position = "dodge2")+coord_flip()+scale_x_continuous(breaks=number_ticks(10))
prioridades %>%filter(tipo!="Total general") %>%
filter(variable %in% c("% Enviando","% Gestionados","% Contactados","% Activos","% Conv Solicitud","% Conv Actv" ) ) %>%
ggplot(aes(x=tipo,y=numero,fill=variable))+
geom_bar(stat = "identity",position = "dodge2")+coord_flip()+scale_x_continuous(n.breaks = 5)
prioridades %>%filter(tipo!="Total general") %>%
filter(variable %in% c("% Enviando","% Gestionados","% Contactados","% Activos","% Conv Solicitud","% Conv Actv" ) ) %>%
ggplot(aes(x=tipo,y=numero,fill=variable))+
geom_bar(stat = "identity",position = "dodge2")+coord_flip()+scale_x_discrete()
prioridades %>%filter(tipo!="Total general") %>%
filter(variable %in% c("% Enviando","% Gestionados","% Contactados","% Activos","% Conv Solicitud","% Conv Actv" ) ) %>%
ggplot(aes(x=tipo,y=numero,fill=variable))+
geom_bar(stat = "identity",position = "dodge2")+coord_flip()
View(prioridades)
View(prioridades)
prioridades %>%filter(tipo!="Total general") %>%
filter(variable %in% c("% Enviando","% Gestionados","% Contactados","% Activos","% Conv Solicitud","% Conv Actv" ) ) %>%
mutate(numero=numero*100)
prioridades %>%filter(tipo!="Total general") %>%
filter(variable %in% c("% Enviando","% Gestionados","% Contactados","% Activos","% Conv Solicitud","% Conv Actv" ) ) %>%
mutate(numero=numero*100) %>%
ggplot(aes(x=tipo,y=numero,fill=variable))+
geom_bar(stat = "identity",position = "dodge2")+coord_flip()
prioridades %>%filter(tipo!="Total general") %>%
filter(variable %in% c("% Enviando","% Gestionados","% Contactados","% Activos","% Conv Solicitud","% Conv Actv" ) ) %>%
mutate(numero=numero*100) %>%
ggplot(aes(x=tipo,y=numero,fill=variable))+
geom_bar(stat = "identity",position = "dodge2")+coord_flip()+labs(x="")
prioridades %>%filter(tipo!="Total general") %>%
filter(variable %in% c("% Enviando","% Gestionados","% Contactados","% Activos","% Conv Solicitud","% Conv Actv" ) ) %>%
mutate(numero=numero*100) %>%
ggplot(aes(x=tipo,y=numero,fill=variable))+
geom_bar(stat = "identity",position = "dodge2")+coord_flip()+
labs(x="",y="porcentaje",title = "Indicadores por tipo de prioridad")
prioridades %>%filter(tipo!="Total general") %>%
filter(variable %in% c("% Enviando","% Gestionados","% Contactados","% Activos","% Conv Solicitud","% Conv Actv" ) ) %>%
mutate(numero=numero*100) %>%
ggplot(aes(x=tipo,y=numero,fill=variable))+
geom_bar(stat = "identity",position = "dodge2")+coord_flip()+
labs(x="",y="porcentaje",title = "Indicadores por tipo de prioridad")
ggsave("indicadoresportipoprioridad.png",dpi = 800)
prioridades %>%filter(tipo!="Total general") %>%
filter(variable %in% c("% Enviando","% Gestionados","% Contactados","% Activos","% Conv Solicitud","% Conv Actv" ) ) %>%
mutate(numero=numero*100) %>%
ggplot(aes(x=tipo,y=numero,fill=variable))+
geom_bar(stat = "identity",position = "dodge2")+coord_flip()+
labs(x="",y="porcentaje",title = "Indicadores por tipo de prioridad")
ggsave("indicadoresportipoprioridad.png",dpi = 800,width = 14,height = 9)
prioridades %>%filter(tipo!="Total general") %>%
filter(variable %in% c("% Enviando","% Gestionados","% Contactados","% Activos","% Conv Solicitud","% Conv Actv" ) ) %>%
mutate(numero=numero*100) %>%
ggplot(aes(x=tipo,y=numero,fill=variable))+
geom_bar(stat = "identity",position = "dodge2")+coord_flip()+
labs(x="",y="porcentaje",title = "Indicadores por tipo de prioridad")
ggsave("indicadoresportipoprioridad.png",dpi = 800,width = 7,height = 4.5)
prioridades %>%filter(tipo!="Total general") %>%
filter(variable %in% c("% Enviando","% Gestionados","% Contactados","% Activos","% Conv Solicitud","% Conv Actv" ) ) %>%
mutate(numero=numero*100) %>%
ggplot(aes(x=tipo,y=numero,fill=variable))+
geom_bar(stat = "identity",position = "dodge2")+coord_flip()+
labs(x="",y="porcentaje",title = "Indicadores por tipo de prioridad")
ggsave("indicadoresportipoprioridad.png",dpi = 800,width = 9,height = 4.5)
prioridades %>%filter(tipo!="Total general") %>%
filter(variable %in% c("% Enviando","% Gestionados","% Contactados","% Activos","% Conv Solicitud","% Conv Actv" ) ) %>%
mutate(numero=numero*100) %>%
ggplot(aes(x=variable,y=numero,fill=tipo))+
geom_bar(stat = "identity",position = "dodge2")+coord_flip()+
labs(x="",y="porcentaje",title = "Indicadores por tipo de prioridad")
prioridades %>%filter(tipo!="Total general") %>%
filter(variable %in% c("% Enviando","% Gestionados","% Contactados","% Activos","% Conv Solicitud","% Conv Actv" ) ) %>%
mutate(numero=numero*100) %>%
ggplot(aes(x=variable,y=numero,fill=tipo))+
geom_bar(stat = "identity",position = "dodge2")+
labs(x="",y="porcentaje",title = "Indicadores por tipo de prioridad")
ggsave("indicadoresportipoprioridad.png",dpi = 800,width = 9,height = 4.5)
prioridades %>%filter(tipo!="Total general") %>%
filter(variable %in% c("% Enviando","% Gestionados","% Contactados","% Activos","% Conv Solicitud","% Conv Actv" ) ) %>%
mutate(numero=numero*100) %>%
ggplot(aes(x=variable,y=numero,fill=tipo))+
geom_bar(stat = "identity",position = "dodge2")+
labs(x="",y="porcentaje",title = "Indicadores por tipo de prioridad")
ggsave("indicadoresportipoprioridad.png",dpi = 800,width = 11,height = 4.5)
