hist(llamadas$`Call duration`)
hist(llamadas$`Call cost`)
View(llamadas)
unique(month(llamadas$`Date of call start`))
unique(day(llamadas$`Date of call start`))
# solo dia
llamadas<-llamadas %>% mutate(dia=day(`Date of call start`))
b<-llamadas %>% filter(dia=="25" & `Call duration`!="0") %>%  group_by(`Agent A`)%>%  count(`Is incoming`)
a %>% ggplot(aes(x=reorder(`Agent A`,n),y=n))+
geom_bar(stat = "identity",fill="lightblue")+coord_flip()+facet_grid(.~`Is incoming`)
View(b)
b %>% ggplot(aes(x=reorder(`Agent A`,n),y=n))+
geom_bar(stat = "identity",fill="lightblue")+coord_flip()+facet_grid(.~`Is incoming`)
str(llamadas)
# reporte comercial aflore
library(readr)
library(readxl)
library(lubridate)
library(dplyr)
library(ggplot2)
library(tidyr)
vinculado<-read_xlsx("consejerovinculado.xlsx",sheet = "data",
col_types = c("numeric","numeric","text","numeric","text","numeric","text","text","text","numeric","text"))
str(vinculado)
View(vinculado)
unique(vinculado$`Fecha de vinculacion`)
zonas<-unique(vinculado$Zona)
zonas<-data.frame(zonas)
zonas<-zonas %>% arrange(zonas)
# damos formato a la fecha
vinculado$`Fecha de vinculacion`<-as.Date(vinculado$`Fecha de vinculacion`, format = "%d/%m/%Y")
vinculado %>% ggplot(aes(x= Coordinador))+geom_bar()+coord_flip()
# coordinador por perfil
vinculado %>% filter(Coordinador!="NA")%>% filter(Perfil!="NA") %>% ggplot(aes(x=Coordinador,y=Constante,fill=Perfil))+geom_bar(stat = "identity")+coord_flip()+theme_minimal()
str(vinculado)
#
vinculado %>% ggplot(aes(x=`Días de vinculación`,y=Zona))+geom_point()
#
vinculado %>% ggplot(aes(x=`Días de vinculación`,y=`Nombre consejero`))+geom_point()
#
vinculado %>% ggplot(aes(x=`Días de vinculación`,y=Coordinador))+geom_point()
#
vinculado %>% ggplot(aes(x=`Días de vinculación`,y=Coordinador))+geom_point(aes(size=Zona,fill=Perfil))
#
vinculado %>% ggplot(aes(x=`Días de vinculación`,y=Coordinador))+geom_point(aes(size=`Días de vinculación`,fill=Perfil))
#
vinculado %>% ggplot(aes(x=`Días de vinculación`,y=Coordinador))+geom_point(aes(fill=Perfil))
#
vinculado %>% ggplot(aes(x=`Días de vinculación`,y=Coordinador))+geom_point(aes(size=Perfil))
#
vinculado %>% ggplot(aes(x=`Días de vinculación`,y=Coordinador))+geom_point(aes(color=Perfil))
#
vinculado %>% ggplot(aes(x=`Días de vinculación`,y=Coordinador))+geom_bar(aes(color=Perfil))
#
vinculado %>% ggplot(aes(x=`Días de vinculación`,y=Coordinador))+geom_bar(stat="identity",aes(color=Perfil))
#
vinculado %>% ggplot(aes(x=`Días de vinculación`,y=Coordinador))+geom_bar(stat="identity",aes(fill=Perfil))
#
vinculado %>% ggplot(aes(x=`Días de vinculación`,y=Perfil))+geom_bar(stat="identity",aes(fill=Coordinador))
#
vinculado %>% ggplot(aes(x=`Días de vinculación`,y=Perfil))+geom_bar(stat="identity",aes(fill=Coordinador),position = "dodge2")
#
vinculado %>% ggplot(aes(x=`Días de vinculación`,y=Coordinador))+
geom_bar(stat="identity",aes(fill=Perfil),position = "dodge2")
#
vinculado %>%filter(Coordinador!="NA")%>% filter(Perfil!="NA") %>% ggplot(aes(x=`Días de vinculación`,y=Coordinador))+
geom_bar(stat="identity",aes(fill=Perfil),position = "dodge2")
#
vinculado %>%filter(Coordinador!="NA")%>% filter(Perfil!="NA") %>% ggplot(aes(x=`Días de vinculación`,y=Coordinador))+
geom_bar(stat="identity",position = "dodge2")
#
vinculado %>%filter(Coordinador!="NA")%>% filter(Perfil!="NA") %>% ggplot(aes(x=`Días de vinculación`,y=Coordinador))+
geom_bar(stat="identity",aes(fill=Perfil),position = "dodge2")
#
vinculado %>%filter(Coordinador!="NA")%>% filter(Perfil!="NA") %>% ggplot(aes(x=`Días de vinculación`,y=Coordinador))+
geom_bar(stat="identity",aes(color=Perfil),position = "dodge2")
#
vinculado %>%filter(Coordinador!="NA")%>% filter(Perfil!="NA") %>% ggplot(aes(x=`Días de vinculación`,y=Coordinador))+
geom_bar(stat="identity",aes(fill=Perfil),position = "dodge2")
#
vinculado %>%filter(Coordinador!="NA")%>% filter(Perfil!="NA") %>% ggplot(aes(x=`Días de vinculación`,y=Coordinador))+
geom_bar(stat="identity",aes(fill=Perfil))
library(readr)
library(readxl)
library(lubridate)
library(dplyr)
library(ggplot2)
library(tidyr)
creditos<-read_xlsx("solicitudes_creditos.xlsx")
View(creditos)
range(creditos$`fecha creacion`)
View(creditos)
# formateando la data
creditos$`fecha creacion`<-as.Date(creditos$`fecha creacion`)
creditos$`fecha actualizacion`<-as.Date(creditos$`fecha actualizacion`)
creditos$`monto solicitado cliente`<-as.numeric(creditos$`monto solicitado cliente`)
range(creditos$`fecha creacion`)
#
creditos2<-creditos %>% group_by(`fecha actualizacion`,`estado solicitud`) %>%
dplyr::summarise(montosolicitado=n(`monto solicitado cliente`),montoaprobado=n(`monto aprobado`)) %>%
arrange(`fecha actualizacion`)
#
creditos2<-creditos %>% group_by(`fecha actualizacion`,`estado solicitud`) %>%
dplyr::summarise(montosolicitado=n(`monto solicitado cliente`),montoaprobado=n(`monto aprobado`)) %>%
arrange(`fecha actualizacion`)
library(readr)
library(readxl)
library(lubridate)
library(dplyr)
library(ggplot2)
library(tidyr)
#
creditos2<-creditos %>% group_by(`fecha actualizacion`,`estado solicitud`) %>%
dplyr::summarise(montosolicitado=n(`monto solicitado cliente`),montoaprobado=n(`monto aprobado`)) %>%
arrange(`fecha actualizacion`)
creditos %>% group_by(`fecha actualizacion`,`estado solicitud`) %>%
count(`monto solicitado cliente`,`monto aprobado`) %>%
arrange(`fecha actualizacion`)
creditos2<-creditos %>% group_by(`fecha actualizacion`,`estado solicitud`) %>%
count(`monto solicitado cliente`,`monto aprobado`) %>%
arrange(`fecha actualizacion`)
View(creditos2)
# numero de aprobados, desaprobados, etc por estado solicitud desde 2021 a actualidad
creditos3<-creditos %>% count(`fecha actualizacion`,`estado solicitud`) %>% arrange(`fecha actualizacion`)
View(creditos3)
library(readr)
library(readxl)
library(dplyr)
library(ggplot2)
library(lubridate)
library(tidyr)
library(readr)
library(readxl)
library(dplyr)
library(ggplot2)
library(lubridate)
library(tidyr)
retirados<-read_xlsx("creditos_retirados.xlsx")
creditos<-read_xlsx("creditos_retirados.xlsx")
rm(retirados)
creditos<-read_xlsx("creditos_retirados.xlsx")
View(creditos)
str(creditos)
View(creditos)
View(creditos)
Status
unique(creditos$Status)
unique(creditos$`Status Group`)
unique(creditos$Status)
creditos %>% ggplot(aes(x=Status))+geom_bar()
creditos %>% ggplot(aes(x=Status))+geom_bar()
range(creditos$`Created At`)
creditos$`Created At`<-as.Date(creditos$`Created At`)
creditos$`Updated At`<-as.Date(creditos$`Updated At`)
View(creditos)
View(creditos)
str(creditos)
creditos %>% ggplot(aes(x=Status))+geom_bar(color=`Year Month Request`)
creditos %>% ggplot(aes(x=Status))+geom_bar(color=`Year Month Request`)
creditos %>% ggplot(aes(x=Status,color=`Year Month Request`))+geom_bar()
creditos %>% ggplot(aes(x=Status,fill=`Year Month Request`))+geom_bar()
creditos %>% ggplot(aes(x=Status,color=`Year Month Request`))+geom_bar(position = "dodge2")
creditos %>% ggplot(aes(x=Status,fill=`Year Month Request`))+geom_bar(position = "dodge2")
creditos %>% ggplot(aes(x=Status,fill=`Year Month Request`))+geom_bar(position = "dodge2")+coord_flip()
month(`Created At`)
creditos %>% mutate(month(`Created At`))
creditos<-creditos %>% mutate(month(`Created At`))
View(creditos)
creditos<-creditos %>% mutate(mes=month(`Created At`))
creditos<-read_xlsx("creditos_retirados.xlsx")
creditos<-creditos %>% mutate(mes=month(`Created At`))
View(creditos)
View(creditos)
creditos<-creditos %>% mutate(mes=month(`Created At`))
creditos<-read_xlsx("creditos_retirados.xlsx")
creditos<-read_xlsx("creditos_retirados.xlsx")
str(creditos)
unique(creditos$Status)
creditos$`Created At`<-as.Date(creditos$`Created At`)
creditos$`Updated At`<-as.Date(creditos$`Updated At`)
creditos<-creditos %>% mutate(mes=month(`Created At`))
View(creditos)
creditos %>% ggplot(aes(x=Status,fill=mes))+geom_bar(position = "dodge2")+coord_flip()
creditos %>% ggplot(aes(x=Status,color=mes))+geom_bar(position = "dodge2")+coord_flip()
creditos %>% ggplot(aes(x=Status,fill=mes))+geom_bar(position = "dodge2")+coord_flip()
View(creditos)
unique(creditos$mes)
creditos %>% ggplot(aes(x=Status,fill=mes))+geom_bar()+coord_flip()
creditos %>% ggplot(aes(x=Status))+geom_bar()+coord_flip()
creditos %>% ggplot(aes(x=Status,fill=mes))+geom_bar()+coord_flip()
creditos %>% ggplot(aes(x=Status,color=mes))+geom_bar()+coord_flip()
creditos %>% ggplot(aes(x=Status))+geom_bar()+coord_flip()
creditos %>% ggplot(aes(x=Status))+geom_bar(xolor=mes)+coord_flip()
creditos %>% ggplot(aes(x=Status))+geom_bar(color=mes)+coord_flip()
creditos %>% ggplot(aes(x=Status))+geom_bar(aes(color=mes))+coord_flip()
creditos %>% ggplot(aes(x=Status))+geom_bar(aes(fill=mes))+coord_flip()
str(creditos)
creditos %>% ggplot(aes(x=Status,fill=mes))+geom_bar()+coord_flip()
creditos %>% ggplot(aes(x=Status,fill=as.factor(mes)))+geom_bar()+coord_flip()
creditos %>% ggplot(aes(x=Status,fill=as.factor(mes)))+geom_bar(position = "dodge2")+coord_flip()
creditos %>% ggplot(aes(x=Status,fill=as.factor(mes)))+geom_bar(position = "dodge2")
creditos %>% ggplot(aes(x=Status,fill=as.factor(mes)))+geom_bar(position = "dodge2")+coord_flip()
creditos %>% ggplot(aes(x=Status,fill=as.factor(mes)))+geom_bar(position = "dodge2")
creditos %>% ggplot(aes(x=Status,fill=as.factor(mes)))+geom_bar(position = "dodge2")+coord_flip()
creditos %>% ggplot(aes(x=Status,fill=as.factor(mes)))+geom_bar(position = "dodge2")+facet_grid(.~Status)
creditos %>% ggplot(aes(x=Status,fill=as.factor(mes)))+geom_bar(position = "dodge2")+facet_grid(.~Status,cols = 3)
creditos %>% ggplot(aes(x=Status,fill=as.factor(mes)))+geom_bar(position = "dodge2")+facet_grid(.~Status,cols = 2)
creditos %>% ggplot(aes(x=Status,fill=as.factor(mes)))+geom_bar(position = "dodge2")+facet_grid(.~Status,rows = 2)
creditos %>% ggplot(aes(x=Status,fill=as.factor(mes)))+geom_bar(position = "dodge2")+facet_grid(.~Status)
creditos %>% ggplot(aes(x=Status,fill=as.factor(mes)))+geom_bar(position = "dodge2")+facet_wrap(.~Status)
creditos %>% ggplot(aes(fill=as.factor(mes)))+geom_bar(position = "dodge2")+facet_wrap(.~Status)
creditos %>% ggplot(aes(x=Status,fill=as.factor(mes)))+geom_bar(position = "dodge2")+facet_wrap(.~Status)
creditos %>% ggplot(aes(x=Status))+geom_bar(position = "dodge2")+facet_wrap(.~mes)
creditos %>% ggplot(aes(x=Status,fill=as.factor(mes)))+geom_bar(position = "dodge2")+facet_wrap()
creditos %>% ggplot(aes(x=Status,fill=as.factor(mes)))+geom_bar(position = "dodge2")
creditos %>% ggplot(aes(x=Status,fill=as.factor(mes)))+geom_bar(position = "dodge2")+
labs(title = "Estatus de enero a marzo",x="",y="numero de transacciones", caption = "1=Enero, 2=Febrero, 3=Marzo")
ggsave("statuseneromarzo.png",dpi = 300,width = 400)
ggsave("statuseneromarzo.png",dpi = 300,width = 300)
creditos %>% ggplot(aes(x=Status,fill=as.factor(mes)))+geom_bar(position = "dodge2")+
labs(title = "Estatus de enero a marzo",x="",y="numero de transacciones", caption = "1=Enero, 2=Febrero, 3=Marzo")
ggsave("statuseneromarzo.png",dpi = 300,width = 300)
ggsave("statuseneromarzo.png",dpi = 300)
ggsave("statuseneromarzo.png",dpi = 300,width = 70)
ggsave("statuseneromarzo.png",dpi = 300,width = 300)
ggsave("statuseneromarzo.png",dpi = 300,width = 14,height = 7)
creditos %>% group_by(mes,Status) %>% count(Status)
mesestatusconteo<-creditos %>% group_by(mes,Status) %>% count(Status)
mesestatusconteo %>% group_by(mes) %>% count(Status)
mesestatusconteo %>% count(mes)
mesestatusconteo %>% count(mes)
mesestatusconteo %>% group_by(mes) %>% count(mes)
creditos %>% group_by(mes) %>% count(mes)
View(mesestatusconteo)
groupedmes<-creditos %>% group_by(mes) %>% count(mes)
merge(x=mesestatusconteo,y=groupedmes,by.x = mes)
View(mesestatusconteo)
merge(x=mesestatusconteo,y=groupedmes,by.x = mes,all.x = TRUE)
merge(x=mesestatusconteo,y=groupedmes,all.x = TRUE)
View(groupedmes)
merge(x=mesestatusconteo,y=groupedmes,by = mes,all.x = TRUE)
merge(x=mesestatusconteo,y=groupedmes,by = mesestatus$mes,all.x = TRUE)
merge(x=mesestatusconteo,y=groupedmes,by = mesestatusconteo$mes,all.x = TRUE)
colnames(groupedmes)
colnames(groupedmes)[2]
colnames(groupedmes)[2]<-"totalpormes"
merge(x=mesestatusconteo,y=groupedmes,all.x = TRUE)
creditmesgrouped<-merge(x=mesestatusconteo,y=groupedmes,all.x = TRUE)
creditmesgrouped %>% mutate(porcentaje=n/totalpormes*100)
tablaporcentajes<-creditmesgrouped %>% mutate(porcentaje=n/totalpormes*100)
creditmesgrouped<-creditmesgrouped %>% mutate(porcentaje=n/totalpormes*100)
library(kbl)
library(kble)
library(kbleExtra)
library(kableExtra)
kbl(creditmesgrouped)
creditmesgrouped %>% kable_styling()
kbl(creditmesgrouped)
install.packages("htmltools")
library(readr)
library(readxl)
library(dplyr)
library(ggplot2)
library(lubridate)
library(tidyr)
library(kableExtra)
kbl(creditmesgrouped)
kbl(creditmesgrouped,booktabs = T)
kbl(creditmesgrouped,booktabs = T) %>% kable_styling(latex_options = "striped")
## Estatus Enero a Marzo
```{r plot1, echo=FALSE, message=FALSE, warning=FALSE, fig.width=14}
knitr::opts_chunk$set(
echo = TRUE,
message = FALSE,
warning = FALSE
)
library(readr)
library(readxl)
library(dplyr)
library(ggplot2)
library(lubridate)
library(tidyr)
library(kableExtra)
creditos<-read_xlsx("creditos_retirados.xlsx")
creditos$`Created At`<-as.Date(creditos$`Created At`)
creditos$`Updated At`<-as.Date(creditos$`Updated At`)
creditos<-creditos %>% mutate(mes=month(`Created At`))
groupedmes<-creditos %>% group_by(mes) %>% count(mes)
colnames(groupedmes)[2]<-"totalpormes"
mesestatusconteo<-creditos %>% group_by(mes,Status) %>% count(Status)
creditmesgrouped<-merge(x=mesestatusconteo,y=groupedmes,all.x = TRUE)
creditmesgrouped<-creditmesgrouped %>% mutate(porcentaje= round(n/totalpormes*100,digits=2))
kbl(creditmesgrouped,booktabs = T) %>% kable_styling(latex_options = "striped") %>%
pack_rows(index=c("Enero" = 6, "Febrero" = 7))
unique(creditos$Status)
creditos %>% filter(Status="Retirado")
creditos %>% filter(Status=="Retirado")
retirados<-creditos %>% filter(Status=="Retirado")
View(retirados)
retirados %>% ggplot(aes(x=Source))+geom_bar()
retirados %>% ggplot(aes(x=Source,fill=mes))+geom_bar()
View(retirados)
retirados %>% ggplot(aes(x=Source,color=mes))+geom_bar()
retirados %>% ggplot(aes(x=Source,fill=as.factor(mes)))+geom_bar()
retirados %>% ggplot(aes(x=Source,fill=as.factor(mes)))+geom_bar(position = "dodge2")
retirados %>% ggplot(aes(x=Source,fill=as.factor(mes)))+geom_bar(position = "dodge2")
retirados %>% ggplot(aes(x=Source,fill=as.factor(mes)))+geom_bar(position = "dodge2")+la
retirados %>% ggplot(aes(x=Source,fill=as.factor(mes)))+geom_bar(position = "dodge2")
retirados %>% ggplot(aes(x=Source,fill=as.factor(mes)))+geom_bar(position = "dodge2")
retirados %>% ggplot(aes(x=Source,fill=as.factor(mes)))+geom_bar(position = "dodge2")
retirados %>% ggplot(aes(x=Source,fill=as.factor(mes)))+geom_bar(position = "dodge2")
retirados %>% ggplot(aes(x=Source,fill=as.factor(mes)))+geom_bar(position = "dodge2")
retirados %>% ggplot(aes(x=Source,fill=as.factor(mes)))+geom_bar(position = "dodge2")
retirados %>% ggplot(aes(x=Source,fill=as.factor(mes)))+geom_bar(position = "dodge2")
retirados %>% ggplot(aes(x=Source,fill=as.factor(mes)))+geom_bar(position = "dodge2")
retirados %>% ggplot(aes(x=Source,fill=as.factor(mes)))+geom_bar(position = "dodge2")+
labs(x="Fuente",y="Conteo",title = "Total de retirados por mes segpun fuente")
retirados %>% ggplot(aes(x=Source,fill=as.factor(mes)))+geom_bar(position = "dodge2")+
labs(x="Fuente",y="Conteo",title = "Total de retirados por mes según fuente")
retirados %>% ggplot(aes(x=Source,fill=as.factor(mes)))+geom_bar(position = "dodge2")+
labs(x="Fuente",y="Conteo",title = "Total de retirados por mes según fuente",caption ="1=Enero, 2=Febrero, 3=Marzo" )
View(retirados)
retirados %>% ggplot(aes(x=Source,fill=as.factor(mes)))+geom_bar(position = "dodge2")+
labs(x="Fuente",y="Conteo",title = "Total de retirados por mes según fuente",caption ="1=Enero, 2=Febrero, 3=Marzo" )
retirados %>% ggplot(aes(x=Source,fill=as.factor(mes)))+geom_bar(position = "dodge2")+
labs(x="Fuente",y="Conteo",title = "Total de retirados por mes según fuente",caption ="1=Enero, 2=Febrero, 3=Marzo" )
retirados %>% ggplot(aes(x=`Status Group`,fill=as.factor(mes)))+geom_bar(position = "dodge2")+
labs(x="Fuente",y="Conteo",title = "Total de retirados por mes según fuente",caption ="1=Enero, 2=Febrero, 3=Marzo" )
retirados %>% ggplot(aes(x=`Motivo Rechazo 1`,fill=as.factor(mes)))+geom_bar(position = "dodge2")+
labs(x="Fuente",y="Conteo",title = "Total de retirados por mes según fuente",caption ="1=Enero, 2=Febrero, 3=Marzo" )
retirados %>% ggplot(aes(x=`Motivo Rechazo 2`,fill=as.factor(mes)))+geom_bar(position = "dodge2")+
labs(x="Fuente",y="Conteo",title = "Total de retirados por mes según fuente",caption ="1=Enero, 2=Febrero, 3=Marzo" )
retirados %>% ggplot(aes(x=`Credit Amount`,fill=as.factor(mes)))+geom_bar(position = "dodge2")+
labs(x="Fuente",y="Conteo",title = "Total de retirados por mes según fuente",caption ="1=Enero, 2=Febrero, 3=Marzo" )
retirados %>% ggplot(aes(x=`Aflore Product Name`,fill=as.factor(mes)))+geom_bar(position = "dodge2")+
labs(x="Fuente",y="Conteo",title = "Total de retirados por mes según fuente",caption ="1=Enero, 2=Febrero, 3=Marzo" )
retirados %>% ggplot(aes(x=`Client Request Amount`,fill=as.factor(mes)))+geom_bar(position = "dodge2")+
labs(x="Fuente",y="Conteo",title = "Total de retirados por mes según fuente",caption ="1=Enero, 2=Febrero, 3=Marzo" )
retirados %>% ggplot(aes(x=`Client Request Amount`,fill=as.factor(mes)))+geom_bar()+
labs(x="Fuente",y="Conteo",title = "Total de retirados por mes según fuente",caption ="1=Enero, 2=Febrero, 3=Marzo" )
retirados %>% ggplot(aes(x=`Client Request Amount`))+geom_bar()+
labs(x="Fuente",y="Conteo",title = "Total de retirados por mes según fuente",caption ="1=Enero, 2=Febrero, 3=Marzo" )
str(retirados)
retirados %>% ggplot(aes(x=`Client Request Amount`))+geom_bar()+
labs(x="Fuente",y="Conteo",title = "Total de retirados por mes según fuente",caption ="1=Enero, 2=Febrero, 3=Marzo" )
hist(retirados$`Client Request Amount`)
retirados %>% ggplot(aes(x=`Client Request Amount`))+geom_bar(stat = "identity")+
labs(x="Fuente",y="Conteo",title = "Total de retirados por mes según fuente",caption ="1=Enero, 2=Febrero, 3=Marzo" )
retirados %>% ggplot(aes(x=`Client Request Amount`))+geom_bar()+
labs(x="Fuente",y="Conteo",title = "Total de retirados por mes según fuente",caption ="1=Enero, 2=Febrero, 3=Marzo" )
retirados %>% ggplot(aes(x=`Client Request Amount`))+geom_count()+
labs(x="Fuente",y="Conteo",title = "Total de retirados por mes según fuente",caption ="1=Enero, 2=Febrero, 3=Marzo" )
retirados %>% ggplot(aes(x=`Client Request Amount`))+geom_count()+
labs(x="Fuente",y="Conteo",title = "Total de retirados por mes según fuente",caption ="1=Enero, 2=Febrero, 3=Marzo" )
retirados %>% ggplot(aes(x=`Client Request Amount`))+geom_count()
retirados %>% ggplot(aes(x=`Client Request Amount`))+geom_histogram()
hist(retirados$`Client Request Amount`)
retirados %>% ggplot(aes(x=(`Client Request Amount`)/1000000))+geom_histogram()
retirados %>% ggplot(aes(x=(`Client Request Amount`)/1000))+geom_histogram()
retirados %>% ggplot(aes(x=(`Client Request Amount`)/1000))+geom_histogram()+
labs(x="monto solicitado por el cliente en miles")
retirados %>% ggplot(aes(x=(`Client Request Amount`)/1000))+geom_histogram()+
labs(x="monto solicitado por el cliente en miles",title = "Distribución del monto de los créditos solicitados que fueron retirados ")
retirados %>% ggplot(aes(x=(`Client Request Amount`)/1000))+geom_histogram()+
labs(x="monto solicitado por el cliente en miles",title = "Distribución del monto de los créditos solicitados que fueron retirados ")+facet_grid(.~mes)
retirados %>% ggplot(aes(x=(`Client Request Amount`)/1000),fill=mes)+geom_histogram()+
labs(x="monto solicitado por el cliente en miles",title = "Distribución del monto de los créditos solicitados que fueron retirados ")
retirados %>% ggplot(aes(x=(`Client Request Amount`)/1000),fill=as.factor(mes))+geom_histogram()+
labs(x="monto solicitado por el cliente en miles",title = "Distribución del monto de los créditos solicitados que fueron retirados ")
retirados %>% ggplot(aes(x=(`Client Request Amount`)/1000),color=as.factor(mes))+geom_histogram()+
labs(x="monto solicitado por el cliente en miles",title = "Distribución del monto de los créditos solicitados que fueron retirados ")
retirados %>% ggplot(aes(x=(`Client Request Amount`)/1000))+geom_histogram(fill=mes)+
labs(x="monto solicitado por el cliente en miles",title = "Distribución del monto de los créditos solicitados que fueron retirados ")
retirados %>% ggplot(aes(x=(`Client Request Amount`)/1000))+geom_histogram(aes(fill=mes))+
labs(x="monto solicitado por el cliente en miles",title = "Distribución del monto de los créditos solicitados que fueron retirados ")
hist(retirados$`Client Request Amount`)
n
retirados %>% ggplot(aes(x=(`Client Request Amount`)/1000))+geom_histogram()+
labs(x="monto solicitado por el cliente en miles",title = "Distribución del monto de los créditos solicitados que fueron retirados ")
hist(retirados$`Client Request Amount`)
retirados %>% ggplot(aes(x=(`Client Request Amount`)/1000))+geom_histogram()+
labs(x="monto solicitado por el cliente en miles",title = "Distribución del monto de los créditos solicitados que fueron retirados ")
retirados %>% ggplot(aes(x=(`Client Request Amount`)/1000))+geom_density()+
labs(x="monto solicitado por el cliente en miles",title = "Distribución del monto de los créditos solicitados que fueron retirados ")
retirados %>% ggplot(aes(x=(`Client Request Amount`)/1000))+geom_density(.~mes)+
labs(x="monto solicitado por el cliente en miles",title = "Distribución del monto de los créditos solicitados que fueron retirados ")
retirados %>% ggplot(aes(x=(`Client Request Amount`)/1000))+geom_density(aes(.~mes))+
labs(x="monto solicitado por el cliente en miles",title = "Distribución del monto de los créditos solicitados que fueron retirados ")
retirados %>% ggplot(aes(x=(`Client Request Amount`)/1000))+geom_density(aes(fill=mes))+
labs(x="monto solicitado por el cliente en miles",title = "Distribución del monto de los créditos solicitados que fueron retirados ")
retirados %>% ggplot(aes(x=(`Client Request Amount`)/1000))+geom_density(aes(fill=as.factor(mes)))+
labs(x="monto solicitado por el cliente en miles",title = "Distribución del monto de los créditos solicitados que fueron retirados ")
retirados %>% ggplot(aes(x=(`Client Request Amount`)/1000))+geom_density(aes(color=as.factor(mes)))+
labs(x="monto solicitado por el cliente en miles",title = "Distribución del monto de los créditos solicitados que fueron retirados ")
retirados %>% ggplot(aes(x=(`Client Request Amount`)/1000))+geom_density(aes(fill=as.factor(mes)))+
labs(x="monto solicitado por el cliente en miles",title = "Distribución del monto de los créditos solicitados que fueron retirados ")
retirados %>% ggplot(aes(x=(`Client Request Amount`)/1000))+geom_density(aes(fill=as.factor(mes)))+
labs(x="monto solicitado por el cliente en miles",title = "Distribución del monto de los créditos solicitados que fueron retirados ", caption = "1=Enero, 2=Febrero, 3=Marzo")
retirados %>% ggplot(aes(x=Source,fill=as.factor(mes)))+geom_bar(position = "dodge2")+
labs(x="Fuente",y="Conteo",title = "Total de retirados por mes según fuente",caption ="1=Enero, 2=Febrero, 3=Marzo" )
retirados %>% ggplot(aes(x=(`Client Request Amount`)/1000))+geom_density(aes(fill=as.factor(mes)))+
labs(x="monto solicitado por el cliente en miles",title = "Distribución del monto de los créditos solicitados que fueron retirados ", caption = "1=Enero, 2=Febrero, 3=Marzo")
creditos %>% ggplot(aes(x=Status,fill=as.factor(mes)))+geom_bar(position = "dodge2")+
labs(title = "Estatus de enero a marzo",x="",y="numero de transacciones", caption = "1=Enero, 2=Febrero, 3=Marzo")
kbl(creditmesgrouped,booktabs = T) %>% kable_styling(latex_options = "striped") %>%
pack_rows(index=c("Enero" = 6, "Febrero" = 9,"Marzo"=6))
retirados %>% ggplot(aes(x=Source,fill=as.factor(mes)))+geom_bar(position = "dodge2")+
labs(x="Fuente",y="Conteo",title = "Total de retirados por mes según fuente",caption ="1=Enero, 2=Febrero, 3=Marzo" )
library(readr)
library(readxl)
library(lubridate)
library(dplyr)
library(ggplot2)
library(tidyr)
# historico de llamadas
llamadas<-read_xlsx("voximplant_call_history.xlsx")
str(llamadas)
unique(llamadas$`Date of call start`)
llamadas$`Date of call start`<-as.Date(llamadas$`Date of call start`)
llamadas$`Date of call start`<-as.Date(llamadas$`Date of call start`)
llamadas<-llamadas %>% mutate(mes=month(`Date of call start`))
llamadas$`Call duration`<-as.numeric(llamadas$`Call duration`)
llamadas$`Call cost`<-as.numeric(llamadas$`Call cost`)
a<-llamadas %>% filter(mes=="3" & `Call duration`!="0") %>%  group_by(`Agent A`)%>%  count(`Is incoming`)
a %>% ggplot(aes(x=reorder(`Agent A`,n),y=n))+
geom_bar(stat = "identity",fill="lightblue")+coord_flip()+facet_grid(.~`Is incoming`)
juliocesar<-llamadas %>% filter(`Agent A`=="Julio Cesar Osorio")
juliocesarsincero<-llamadas %>% filter(`Agent A`=="Julio Cesar Osorio" & `Call duration`!="0")
View(llamadas)
```{r setup, include=FALSE}
a %>% ggplot(aes(x=reorder(`Agent A`,n),y=n))+
geom_bar(stat = "identity",fill="lightblue")+coord_flip()+facet_grid(.~`Is incoming`)
a %>% ggplot(aes(x=reorder(`Agent A`,n),y=n))+
geom_bar(stat = "identity",fill="lightblue")+coord_flip()+facet_grid(.~`Is incoming`)+
labs(x="numero de llamadas",y="Agente A",title = "Numero de llamadas por Agente en mes de marzo")
a %>% ggplot(aes(x=reorder(`Agent A`,n),y=n))+
geom_bar(stat = "identity",fill="lightblue")+coord_flip()+facet_grid(.~`Is incoming`)+
labs(x="numero de llamadas",y="Agente A",title = "Numero de llamadas por Agente en mes de marzo")
a %>% ggplot(aes(x=reorder(`Agent A`,n),y=n))+
geom_bar(stat = "identity",fill="lightblue")+coord_flip()+facet_grid(.~`Is incoming`)+
labs(x="numero de llamadas",y="Agente A",title = "Numero de llamadas por Agente en mes de marzo")
a %>% ggplot(aes(x=reorder(`Agent A`,n),y=n))+
geom_bar(stat = "identity",fill="lightblue")+coord_flip()+facet_grid(.~`Is incoming`)+
labs(x="numero de llamadas",y="Agente A",title = "Numero de llamadas por Agente en mes de marzo",
caption = "no = No es llamada entrante , yes= Si es llamada entrante")
a %>% ggplot(aes(x=reorder(`Agent A`,n),y=n))+
geom_bar(stat = "identity",fill="lightblue")+coord_flip()+facet_grid(.~`Is incoming`)+
labs(x="numero de llamadas",y="Agente A",title = "Numero de llamadas por Agente en mes de marzo",
caption = "no = No es llamada entrante (Saliente) , yes= Si es llamada entrante")
View(llamadas)
```
# Historial de llamadas
## Historial de llamadas en marzo
```{r llamadasagente, echo=FALSE, message=FALSE, warning=FALSE}
a %>% ggplot(aes(x=reorder(`Agent A`,n),y=n))+
geom_bar(stat = "identity",fill="lightblue")+coord_flip()+facet_grid(.~`Is incoming`)+
labs(x="numero de llamadas",y="Agente A",title = "Numero de llamadas por Agente en mes de marzo",
caption = "no = No es llamada entrante (Saliente) , yes= Si es llamada entrante")
```
Se puede observar que no tenemos en la data de voximplant separado por agente las llamadas entrantes, habria que consultar que se puede hacer, en lo conversad con cristhian vemos que el phone B, engloba a todos los agentes/coordinadores como sip:scenario_30650
llamadas %>% group_by(`Agent A`) %>% count(`Is incoming`) %>% ggplot(aes(x=reorder(`Agent A`,n),y=n))+
geom_bar(stat = "identity",fill="lightblue")+coord_flip()+facet_grid(.~`Is incoming`)+
labs(x="numero de llamadas",y="Agente A",title = "Numero de llamadas por Agente en mes de marzo",
caption = "no = No es llamada entrante (Saliente) , yes= Si es llamada entrante")
## Historial de llamadas en marzo
```{r llamadasagente, echo=FALSE, message=FALSE, warning=FALSE}
llamadas %>% group_by(`Agent A`) %>% count(`Is incoming`) %>% ggplot(aes(x=reorder(`Agent A`,n),y=n))+
geom_bar(stat = "identity",fill="lightblue")+coord_flip()+facet_grid(.~mes)+
labs(x="numero de llamadas",y="Agente A",title = "Numero de llamadas por Agente en mes de marzo",
caption = "no = No es llamada entrante (Saliente) , yes= Si es llamada entrante")
llamadas %>% filter(mes==3)
llamadas %>% count(mes)
View(llamadas)
llamadas %>% ggplot(aes(x = `Call duration`))+geom_histogram()
llamadas %>% ggplot(aes(x = `Call duration`,color=`Agent A`))+geom_histogram()
llamadas %>% ggplot(aes(x = `Call duration`,fill=`Agent A`))+geom_histogram()
llamadas %>% filter(`Agent A`=="Ana Dulfay Linares Amaya")%>%  ggplot(aes(x = `Call duration`,fill=`Agent A`))+geom_histogram()
llamadas %>%  ggplot(aes(x = `Call duration`,fill=`Agent A`))+geom_histogram()
llamadas %>%  ggplot(aes(x = `Call duration`))+geom_histogram()
llamadas %>%  ggplot(aes(x = `Call duration`))+geom_histogram()+facet_grid(.~`Agent A`)
llamadas %>%  ggplot(aes(x = `Call duration`))+geom_density()+facet_grid(.~`Agent A`)
llamadas %>%  ggplot(aes(x = `Call duration`,color=`Agent A`))+geom_density()
llamadas$`Agent A`
unique(llamadas$`Agent A`)
llamadas %>% filter(`Agent A` %in% c("Paola Adriana Castro Prieto",
"Jorge Fernández",
"Jessica Andrea Arias Aguirre",
"Nelson Rubio",
"Diana Patricia Hernandez Contreras"))%>%   ggplot(aes(x = `Call duration`,color=`Agent A`))+geom_density()
llamadas %>% filter(`Agent A` %in% c("Paola Adriana Castro Prieto",
"Jorge Fernández",
"Jessica Andrea Arias Aguirre",
"Nelson Rubio",
"Diana Patricia Hernandez Contreras"))%>%   ggplot(aes(x = `Call duration`,color=`Agent A`))+geom_boxplot()
llamadas %>% group_by(`Agent A`) %>% summarise(promedio_llamada=mean(`Call duration`))
llamadas %>% group_by(`Agent A`) %>% summarise(promedio_llamada=mean(`Call duration`)) %>% arrange(promedio_llamada)
llamadas %>% group_by(`Agent A`) %>% summarise(promedio_llamada=mean(`Call duration`)) %>% arrange(-promedio_llamada)
llamadas %>% group_by(`Agent A`) %>% summarise(promedio_llamada=mean(`Call duration`),
suma_llamada=sum(`Call duration`)) %>%
arrange(-promedio_llamada)
callduration<-llamadas %>% group_by(`Agent A`) %>% summarise(promedio_llamada=mean(`Call duration`),
suma_llamada=sum(`Call duration`)) %>%
arrange(-promedio_llamada)
library(kableExtra)
kbl(callduration,booktabs = T) %>% kable_styling(latex_options = "striped")
callduration<-llamadas %>% group_by(`Agent A`) %>% summarise(promedio_llamada=round(mean(`Call duration`),digits = 1),
suma_llamada=sum(`Call duration`)) %>%
arrange(-promedio_llamada)
callduration<-llamadas %>% group_by(`Agent A`) %>% summarise(promedio_llamada=round(mean(`Call duration`),digits = 1),
suma_llamada=sum(`Call duration`)) %>%
arrange(-promedio_llamada)
kbl(callduration,booktabs = T) %>% kable_styling(latex_options = c("striped"),font_size = 8)
