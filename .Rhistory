a<-actividad %>% group_by(mes) %>% distinct(numero.de.documento,.keep_all = TRUE)
a %>% count(mes)
View(a)
unique(a$cluster_segment)
a %>% count(mes,cluster_segment)
library(ggplot2)
a %>% count(mes,cluster_segment) %>% ggplot(aes(x=mes,y=n,label=n))+geom_bar(stat = "identity")+geom_text()
a %>% count(mes,cluster_segment) %>% ggplot(aes(x=mes,y=n,label=n))+geom_bar(stat = "identity",position = "dodge")+geom_text()
a %>% count(mes,cluster_segment) %>% ggplot(aes(x=mes,y=n,fill=cluster_segment,label=n))+geom_bar(stat = "identity",position = "dodge")+geom_text()
a %>% count(mes,cluster_segment) %>%
ggplot(aes(x=mes,y=n,fill=cluster_segment,label=n))+
geom_bar(stat = "identity",position = "dodge")+geom_text()
a %>% count(mes,cluster_segment) %>%
ggplot(aes(x=mes,y=n,fill=cluster_segment,label=n))+
geom_bar(stat = "identity",position = "dodge")+geom_text(position = position_dodge(0.7))
a %>% count(mes,cluster_segment) %>%
ggplot(aes(x=mes,y=n,fill=cluster_segment,label=n))+
geom_bar(stat = "identity",position = "dodge")+geom_text(position = position_dodge(width=0.7))
a %>% count(mes,cluster_segment) %>%
ggplot(aes(x=mes,y=n,fill=cluster_segment,label=n))+
geom_bar(stat = "identity",position = "dodge")+geom_text(position = position_dodge(0.9))
a %>% count(mes,cluster_segment)
b<-a %>% count(mes,cluster_segment)
write_xlsx("grafico.xlsx",b)
write_xlsx(b,"grafico.xlsx")
a %>% count(mes,cluster_segment) %>%
ggplot(aes(x=cluster_segment,y=n,fill=mes,label=n))+
geom_bar(stat = "identity",position = "dodge")+geom_text(position = position_dodge(0.9))
a %>% count(mes,cluster_segment) %>%
ggplot(aes(x=cluster_segment,y=n,fill=mes,label=n))+
geom_bar(stat = "identity",position = "dodge")+geom_text()
a %>% count(mes,cluster_segment) %>%
ggplot(aes(x=cluster_segment,y=n,color=mes,label=n))+
geom_bar(stat = "identity",position = "dodge")+geom_text(position = position_dodge(0.9))
a %>% count(mes,cluster_segment) %>%
ggplot(aes(x=cluster_segment,y=n,fill=mes,label=n))+
geom_bar(stat = "identity",position = "dodge")+geom_text(position = position_dodge(0.9))
a %>% count(mes,cluster_segment) %>%
ggplot(aes(x=cluster_segment,y=n,fill=mes,label=n))+
geom_bar(stat = "identity",position = "dodge2")+geom_text(position = position_dodge(0.9))
a %>% count(mes,cluster_segment) %>%
ggplot(aes(x=cluster_segment,y=n,fill=mes,label=n))+
geom_bar(stat = "identity",position = "dodge2")+geom_text()
a %>% count(mes,cluster_segment) %>%
ggplot(aes(x=cluster_segment,y=n,fill=mes,label=n))+
geom_bar(stat = "identity",position = "dodge2")+geom_text(position = position_dodge(0.7))
a %>% count(mes,cluster_segment) %>%
ggplot(aes(x=cluster_segment,y=n,fill=mes,label=n))+
geom_bar(stat = "identity",position = "dodge2")+geom_text(position = position_dodge(0.5))
a %>% count(mes,cluster_segment) %>%
ggplot(aes(x=cluster_segment,y=n,fill=mes,label=n))+
geom_bar(stat = "identity",position = "dodge2")+geom_text(position = position_dodge(width=0.5))
a %>% count(mes,cluster_segment) %>%
ggplot(aes(x=cluster_segment,y=n,fill=as.factor(mes),label=n))+
geom_bar(stat = "identity",position = "dodge2")+geom_text(position = position_dodge(width=0.5))
a %>% count(mes,cluster_segment) %>%
ggplot(aes(x=cluster_segment,y=n,fill=as.factor(mes),label=n))+
geom_bar(stat = "identity",position = "dodge2")+geom_text(position = position_dodge(width=0.9))
a %>% count(mes,cluster_segment) %>%
ggplot(aes(x=cluster_segment,y=n,fill=as.factor(mes),label=n))+
geom_bar(stat = "identity",position = "dodge2")+geom_text(position = position_dodge(0.9))
a %>% filter(mes!=5)%>% count(mes,cluster_segment) %>%
ggplot(aes(x=cluster_segment,y=n,fill=as.factor(mes),label=n))+
geom_bar(stat = "identity",position = "dodge2")+geom_text(position = position_dodge(0.9))
library(scales)
library(readr)
library(readxl)
library(lubridate)
library(dplyr)
library(ggplot2)
library(tidyr)
library(kableExtra)
library(writexl)
# install.packages("writexl")
# historico de llamadas
llamadas<-read_xlsx("voximplant_call_history.xlsx")
View(llamadas)
str(llamadas)
View(llamadas)
range(llamadas$`Date of call start`)
# install.packages("writexl")
# historico de llamadas
llamadas1<-read_xlsx("voximplant_call_history_abril.xlsx")
View(llamadas1)
# install.packages("writexl")
# historico de llamadas
llamadas1<-read_xlsx("voximplant_call_history_abril.xlsx")
# para todo el equipo
# llamadas entrantes por hora
llamadas %>% filter(mes==3) %>% filter(`Is incoming`=="yes") %>% count(hora) %>% ggplot(aes(x=hora,y=n))+geom_bar(stat = "identity",fill="brown")+
scale_x_continuous(n.breaks = 15)+labs(title = "Llamadas entrantes por hora",y="")
# install.packages("writexl")
# historico de llamadas
llamadas<-read_xlsx("voximplant_call_history_abril.xlsx")
# install.packages("writexl")
# historico de llamadas
llamadas<-read_xlsx("voximplant_call_history_abril.xlsx")
View(llamadas)
#
llamadas$`Date of call start`<-as.Date(llamadas$`Date of call start`)
llamadas<-llamadas %>% mutate(mes=month(`Date of call start`))
View(llamadas)
# para todo el equipo
# llamadas entrantes por hora
llamadas %>% filter(mes==4) %>% filter(`Is incoming`=="yes") %>% count(hora) %>% ggplot(aes(x=hora,y=n))+geom_bar(stat = "identity",fill="brown")+
scale_x_continuous(n.breaks = 15)+labs(title = "Llamadas entrantes por hora",y="")
#------ voximplant por hora -------#
llamadas<-read_xlsx("voximplant_call_history_abril.xlsx")
llamadas<-llamadas %>% mutate(mes=month(`Date of call start`))
unique(hour(llamadas$`Date of call start`))
llamadas<-llamadas %>% mutate(hora=hour(llamadas$`Date of call start`))
# para todo el equipo
# llamadas entrantes por hora
llamadas %>% filter(mes==4) %>% filter(`Is incoming`=="yes") %>% count(hora) %>% ggplot(aes(x=hora,y=n))+geom_bar(stat = "identity",fill="brown")+
scale_x_continuous(n.breaks = 15)+labs(title = "Llamadas entrantes por hora",y="")
# llamadas salientes por hora
llamadas %>% filter(mes==4) %>% filter(`Is incoming`=="no") %>% count(hora) %>% ggplot(aes(x=hora,y=n))+geom_bar(stat = "identity",fill="brown")+
scale_x_continuous(n.breaks = 15)+labs(title = "Llamadas salientes por hora", y="")
ggsave("llamadasporhorassalientes.png",dpi = 300)
# para todo el equipo
# llamadas entrantes por hora
llamadas %>% filter(mes==4) %>% filter(`Is incoming`=="yes") %>% count(hora) %>% ggplot(aes(x=hora,y=n))+geom_bar(stat = "identity",fill="brown")+
scale_x_continuous(n.breaks = 15)+labs(title = "Llamadas entrantes por hora",y="")
ggsave("llamadasporhorasentrantes.png",dpi = 300)
# llamadas salientes por hora
llamadas %>% filter(mes==4) %>% filter(`Is incoming`=="no") %>% count(hora) %>% ggplot(aes(x=hora,y=n))+geom_bar(stat = "identity",fill="brown")+
scale_x_continuous(n.breaks = 15)+labs(title = "Llamadas salientes por hora", y="")
ggsave("llamadasporhorassalientes.png",dpi = 300)
View(llamadas)
View(llamadas)
actividad<-read.csv("actividad_contactado.csv",sep = ",")
actividad<-actividad %>% mutate(mes=month(Timestamp))
unicos<-actividad %>%  dplyr::distinct(numero.de.documento,.keep_all = TRUE)
unicos %>% count(mes)
# DATA VOXIMPLANT _sac_ llamadas
library(scales)
library(readr)
library(readxl)
library(lubridate)
library(dplyr)
library(ggplot2)
library(tidyr)
library(kableExtra)
library(writexl)
actividad<-actividad %>% mutate(mes=month(Timestamp))
unicos<-actividad %>%  dplyr::distinct(numero.de.documento,.keep_all = TRUE)
unicos %>% count(mes)
a<-actividad %>% group_by(mes) %>% distinct(numero.de.documento,.keep_all = TRUE)
a %>% filter(mes!=5)%>% count(mes,cluster_segment) %>%
ggplot(aes(x=cluster_segment,y=n,fill=as.factor(mes),label=n))+
geom_bar(stat = "identity",position = "dodge2")+geom_text(position = position_dodge(0.9))
a %>% filter(mes!=5)%>% count(mes,cluster_segment)
knitr::opts_chunk$set(
echo = FALSE,
message = FALSE,
warning = FALSE,
cache=TRUE
)
library(readr)
library(readxl)
library(ggplot2)
library(tidyr)
library(dplyr)
library(kableExtra)
library(lubridate)
library(forcats)
library(stringr)
library(gganimate)
library(plotly)
library(readr)
library(readxl)
library(ggplot2)
library(tidyr)
library(dplyr)
library(kableExtra)
library(lubridate)
library(forcats)
library(stringr)
library(gganimate)
library(plotly)
knitr::opts_chunk$set(
echo = FALSE,
message = FALSE,
warning = FALSE,
cache=TRUE
)
library(readr)
library(readxl)
library(ggplot2)
library(tidyr)
library(dplyr)
library(kableExtra)
library(lubridate)
library(forcats)
library(stringr)
library(gganimate)
library(plotly)
actividad<-read.csv("actividad_contactado.csv",sep = ",")
library(lubridate)
tickets<-read_xls("tickets_abril.xls",skip = 2)
# como las fechas estan como carácteres y no date lo convertimos
tickets$`Created at`<-parse_datetime(tickets$`Created at`)
# como las fechas estan como carácteres y no date lo convertimos
tickets$`Created at`<-parse_datetime(tickets$`Created at`)
tickets<-tickets %>% mutate(mes=month(`Created at`))
View(tickets)
ticket_comercial<-tickets %>% filter(Title %in% c("0001- Devolución de saldos por mayor valor pagado",
"0002 - Devolución de saldo de seguro",
"0003 - Inconsistencia con el pago de florines"  ,
"0004 - Certificación de consejero"   ,
"0006 - Certificación declaración de renta" ,
"0007- Estado de cuenta" ,
"0007-Estado de cuenta"  ,
"0008 - Solicitud de Paz y Salvo" ,
"0009 - Derecho de petición" ,
"0013 - Reintegro Consejero/Nombramiento Líder" ,
"0014 - Retiro Consejero/Líder"     ,
"0015 - Quitar y adicionar crédito de un corte",
"0016 - Revertir crédito",
"0017 - Mi Aflore - Consejero",
"0018 - Mi Aflore - Cliente",
"0019 - Llenada por Consejero",
"0020 - Llenada por Cliente",
"0022 - Falla en el proceso de desembolso Digital",
"0025 - Cancelación póliza",
"0027 - Problemas PBX",
"0054 - Problemas o cambios expansión geográfica",
"0057  - Problemas ARK o base de datos" ,
"0057 - Problemas ARK o base de datos",
"0059 - Corregir Abono negativo a capital",
"0060 - Pago duplicado"  ))
ticket_comercial %>% group_by(Title,mes)
ticket_comercial %>% group_by(Title,mes)
ticket_comercial %>% group_by(Title,mes) %>% summarise(dif_updated_closed=median((`Updated at`- `Created at`)/3600))
tickets<-read_xls("tickets_abril.xls",skip = 2)
tickets<-tickets %>% mutate(mes=month(`Created at`))
ticket_comercial<-tickets %>% filter(Title %in% c("0001- Devolución de saldos por mayor valor pagado",
"0002 - Devolución de saldo de seguro",
"0003 - Inconsistencia con el pago de florines"  ,
"0004 - Certificación de consejero"   ,
"0006 - Certificación declaración de renta" ,
"0007- Estado de cuenta" ,
"0007-Estado de cuenta"  ,
"0008 - Solicitud de Paz y Salvo" ,
"0009 - Derecho de petición" ,
"0013 - Reintegro Consejero/Nombramiento Líder" ,
"0014 - Retiro Consejero/Líder"     ,
"0015 - Quitar y adicionar crédito de un corte",
"0016 - Revertir crédito",
"0017 - Mi Aflore - Consejero",
"0018 - Mi Aflore - Cliente",
"0019 - Llenada por Consejero",
"0020 - Llenada por Cliente",
"0022 - Falla en el proceso de desembolso Digital",
"0025 - Cancelación póliza",
"0027 - Problemas PBX",
"0054 - Problemas o cambios expansión geográfica",
"0057  - Problemas ARK o base de datos" ,
"0057 - Problemas ARK o base de datos",
"0059 - Corregir Abono negativo a capital",
"0060 - Pago duplicado"  ))
ticket_comercial %>% group_by(Title,mes) %>% summarise(dif_updated_closed=median((`Updated at`- `Created at`)/3600))
View(ticket_comercial)
ticket_comercial %>% group_by(Title) %>% summarise(dif_updated_closed=median((`Updated at`- `Created at`)/3600))
View(ticket_comercial)
View(ticket_comercial)
ticket_comercial %>% group_by(Title)
ticket_comercial %>% count(Title)
ticket_comercial %>% count(Title) %>% arrange(n)
ticket_comercial<-tickets %>% filter(Title %in% c("0002 - Devolución de saldo de seguro",
"0003 - Inconsistencia con el pago de florines"  ,
"0004 - Certificación de consejero"   ,
"0006 - Certificación declaración de renta" ,
"0007- Estado de cuenta" ,
"0007-Estado de cuenta"  ,
"0008 - Solicitud de Paz y Salvo" ,
"0009 - Derecho de petición" ,
"0013 - Reintegro Consejero/Nombramiento Líder" ,
"0014 - Retiro Consejero/Líder"     ,
"0015 - Quitar y adicionar crédito de un corte",
"0016 - Revertir crédito",
"0017 - Mi Aflore - Consejero",
"0018 - Mi Aflore - Cliente",
"0019 - Llenada por Consejero",
"0020 - Llenada por Cliente",
"0022 - Falla en el proceso de desembolso Digital",
"0025 - Cancelación póliza",
"0027 - Problemas PBX",
"0054 - Problemas o cambios expansión geográfica",
"0057  - Problemas ARK o base de datos" ,
"0057 - Problemas ARK o base de datos",
"0059 - Corregir Abono negativo a capital",
"0060 - Pago duplicado"  ))
ticket_comercial %>% group_by(Title) %>% summarise(dif_updated_closed=median((`Updated at`- `Created at`)/3600))
View(ticket_comercial)
tickets<-read_xls("tickets2.xls",skip = 2)
tickets<-tickets %>% mutate(mes=month(`Created at`))
ticket_comercial<-tickets %>% filter(Title %in% c("0002 - Devolución de saldo de seguro",
"0003 - Inconsistencia con el pago de florines"  ,
"0004 - Certificación de consejero"   ,
"0006 - Certificación declaración de renta" ,
"0007- Estado de cuenta" ,
"0007-Estado de cuenta"  ,
"0008 - Solicitud de Paz y Salvo" ,
"0009 - Derecho de petición" ,
"0013 - Reintegro Consejero/Nombramiento Líder" ,
"0014 - Retiro Consejero/Líder"     ,
"0015 - Quitar y adicionar crédito de un corte",
"0016 - Revertir crédito",
"0017 - Mi Aflore - Consejero",
"0018 - Mi Aflore - Cliente",
"0019 - Llenada por Consejero",
"0020 - Llenada por Cliente",
"0022 - Falla en el proceso de desembolso Digital",
"0025 - Cancelación póliza",
"0027 - Problemas PBX",
"0054 - Problemas o cambios expansión geográfica",
"0057  - Problemas ARK o base de datos" ,
"0057 - Problemas ARK o base de datos",
"0059 - Corregir Abono negativo a capital",
"0060 - Pago duplicado"  ))
ticket_comercial<-tickets %>% filter(Title %in% c("0001- Devolución de saldos por mayor valor pagado",
"0002 - Devolución de saldo de seguro",
"0003 - Inconsistencia con el pago de florines"  ,
"0004 - Certificación de consejero"   ,
"0006 - Certificación declaración de renta" ,
"0007- Estado de cuenta" ,
"0007-Estado de cuenta"  ,
"0008 - Solicitud de Paz y Salvo" ,
"0009 - Derecho de petición" ,
"0013 - Reintegro Consejero/Nombramiento Líder" ,
"0014 - Retiro Consejero/Líder"     ,
"0015 - Quitar y adicionar crédito de un corte",
"0016 - Revertir crédito",
"0017 - Mi Aflore - Consejero",
"0018 - Mi Aflore - Cliente",
"0019 - Llenada por Consejero",
"0020 - Llenada por Cliente",
"0022 - Falla en el proceso de desembolso Digital",
"0025 - Cancelación póliza",
"0027 - Problemas PBX",
"0054 - Problemas o cambios expansión geográfica",
"0057  - Problemas ARK o base de datos" ,
"0057 - Problemas ARK o base de datos",
"0059 - Corregir Abono negativo a capital",
"0060 - Pago duplicado"  ))
ticket_comercial %>% group_by(Title,mes) %>% summarise(dif_updated_closed=median((`Updated at`- `Created at`)/3600))
ticket_comercial %>% group_by(Title,mes) %>% summarise(dif_updated_closed=median((`Updated at`- `Created at`)/3600)) %>% arrange(-dif_updated_closed)
# como las fechas estan como carácteres y no date lo convertimos
tickets$`Created at`<-parse_datetime(tickets$`Created at`)
tickets$`Updated at`<-parse_datetime(tickets$`Updated at`)
tickets$`Closed at`<-parse_datetime(tickets$`Closed at`)
tickets<-tickets %>% mutate(mes=month(`Created at`))
ticket_comercial %>% group_by(Title,mes) %>% summarise(dif_updated_closed=median((`Updated at`- `Created at`)/3600)) %>% arrange(-dif_updated_closed) %>% ggplot(aes(x=reorder(Title,dif_updated_closed),y=dif_updated_closed,fill=factor(mes,levels=c("4","3","2","1"))))+geom_bar(stat = "identity",position = "dodge2")+coord_flip()+guides(fill=guide_legend(title="mes"))+labs(x="",y="horas promedio",title = "Horas promedio de resolución por tipo de ticket")
tickets<-read_xls("tickets2.xls",skip = 2)
# como las fechas estan como carácteres y no date lo convertimos
tickets$`Created at`<-parse_datetime(tickets$`Created at`)
tickets$`Updated at`<-parse_datetime(tickets$`Updated at`)
tickets$`Closed at`<-parse_datetime(tickets$`Closed at`)
tickets<-tickets %>% mutate(mes=month(`Created at`))
tickets<-tickets %>% filter(mes!="")
ticket_comercial<-tickets %>% filter(Title %in% c("0001- Devolución de saldos por mayor valor pagado",
"0002 - Devolución de saldo de seguro",
"0003 - Inconsistencia con el pago de florines"  ,
"0004 - Certificación de consejero"   ,
"0006 - Certificación declaración de renta" ,
"0007- Estado de cuenta" ,
"0007-Estado de cuenta"  ,
"0008 - Solicitud de Paz y Salvo" ,
"0009 - Derecho de petición" ,
"0013 - Reintegro Consejero/Nombramiento Líder" ,
"0014 - Retiro Consejero/Líder"     ,
"0015 - Quitar y adicionar crédito de un corte",
"0016 - Revertir crédito",
"0017 - Mi Aflore - Consejero",
"0018 - Mi Aflore - Cliente",
"0019 - Llenada por Consejero",
"0020 - Llenada por Cliente",
"0022 - Falla en el proceso de desembolso Digital",
"0025 - Cancelación póliza",
"0027 - Problemas PBX",
"0054 - Problemas o cambios expansión geográfica",
"0057  - Problemas ARK o base de datos" ,
"0057 - Problemas ARK o base de datos",
"0059 - Corregir Abono negativo a capital",
"0060 - Pago duplicado"  ))
ticket_comercial %>% group_by(Title,mes) %>% summarise(dif_updated_closed=median((`Updated at`- `Created at`)/3600)) %>% arrange(-dif_updated_closed) %>% ggplot(aes(x=reorder(Title,dif_updated_closed),y=dif_updated_closed,fill=factor(mes,levels=c("4","3","2","1"))))+geom_bar(stat = "identity",position = "dodge2")+coord_flip()+guides(fill=guide_legend(title="mes"))+labs(x="",y="horas promedio",title = "Horas promedio de resolución por tipo de ticket")
ticket_comercial %>% group_by(Title,mes) %>% summarise(dif_updated_closed=median((`Updated at`- `Created at`)/3600))
ticket_comercial %>% group_by(Title,mes) %>% summarise(dif_updated_closed=median((`Updated at`- `Created at`)/3600)) %>% arrange(-dif_updated_closed) %>% ggplot(aes(x=reorder(Title,dif_updated_closed),y=dif_updated_closed,fill=factor(mes,levels=c("4","3","2","1")),label=dif_updated_closed))+geom_bar(stat = "identity",position = "dodge2")+coord_flip()+guides(fill=guide_legend(title="mes"))+labs(x="",y="horas promedio",title = "Horas promedio de resolución por tipo de ticket")+geom_text()
ticket_comercial %>% group_by(Title,mes) %>% summarise(dif_updated_closed=round(median((`Updated at`- `Created at`)/3600),digits = 1)) %>% arrange(-dif_updated_closed) %>% ggplot(aes(x=reorder(Title,dif_updated_closed),y=dif_updated_closed,fill=factor(mes,levels=c("4","3","2","1")),label=dif_updated_closed))+geom_bar(stat = "identity",position = "dodge2")+coord_flip()+guides(fill=guide_legend(title="mes"))+labs(x="",y="horas promedio",title = "Horas promedio de resolución por tipo de ticket")+geom_text()
ticket_comercial %>% group_by(Title,mes) %>% summarise(dif_updated_closed=round(median((`Updated at`- `Created at`)/3600),digits = 1)) %>% arrange(-dif_updated_closed) %>% ggplot(aes(x=reorder(Title,dif_updated_closed),y=dif_updated_closed,fill=factor(mes,levels=c("4","3","2","1")),label=dif_updated_closed))+geom_bar(stat = "identity",position = "dodge2")+coord_flip()+guides(fill=guide_legend(title="mes"))+labs(x="",y="horas promedio",title = "Horas promedio de resolución por tipo de ticket")+geom_text(position = position_dodge(width = 0.9))
tickets<-read_xls("tickets2.xls",skip = 2)
# como las fechas estan como carácteres y no date lo convertimos
tickets$`Created at`<-parse_datetime(tickets$`Created at`)
tickets$`Updated at`<-parse_datetime(tickets$`Updated at`)
tickets$`Closed at`<-parse_datetime(tickets$`Closed at`)
tickets<-tickets %>% mutate(mes=month(`Created at`))
ticket_comercial<-tickets %>% filter(Title %in% c("0001- Devolución de saldos por mayor valor pagado",
"0002 - Devolución de saldo de seguro",
"0003 - Inconsistencia con el pago de florines"  ,
"0004 - Certificación de consejero"   ,
"0006 - Certificación declaración de renta" ,
"0007- Estado de cuenta" ,
"0007-Estado de cuenta"  ,
"0008 - Solicitud de Paz y Salvo" ,
"0009 - Derecho de petición" ,
"0013 - Reintegro Consejero/Nombramiento Líder" ,
"0014 - Retiro Consejero/Líder"     ,
"0015 - Quitar y adicionar crédito de un corte",
"0016 - Revertir crédito",
"0017 - Mi Aflore - Consejero",
"0018 - Mi Aflore - Cliente",
"0019 - Llenada por Consejero",
"0020 - Llenada por Cliente",
"0022 - Falla en el proceso de desembolso Digital",
"0025 - Cancelación póliza",
"0027 - Problemas PBX",
"0054 - Problemas o cambios expansión geográfica",
"0057  - Problemas ARK o base de datos" ,
"0057 - Problemas ARK o base de datos",
"0059 - Corregir Abono negativo a capital",
"0060 - Pago duplicado"  ))
ticket_comercial %>% group_by(Title,mes) %>% summarise(dif_updated_closed=round(median((`Updated at`- `Created at`)/3600),digits = 1)) %>% arrange(-dif_updated_closed) %>% ggplot(aes(x=reorder(Title,dif_updated_closed),y=dif_updated_closed,fill=factor(mes,levels=c("4","3","2","1")),label=dif_updated_closed))+geom_bar(stat = "identity",position = "dodge2")+coord_flip()+guides(fill=guide_legend(title="mes"))+labs(x="",y="horas promedio",title = "Horas promedio de resolución por tipo de ticket")+geom_text(position = position_dodge(width = 0.9))
ticket_comercial %>% group_by(Title,mes) %>% summarise(dif_updated_closed=round(median((`Updated at`- `Created at`)/3600),digits = 1)) %>% arrange(-dif_updated_closed) %>% ggplot(aes(x=reorder(Title,dif_updated_closed),y=dif_updated_closed,fill=factor(mes,levels=c("4","3","2","1")),label=dif_updated_closed))+geom_bar(stat = "identity",position = "dodge")+coord_flip()+guides(fill=guide_legend(title="mes"))+labs(x="",y="horas promedio",title = "Horas promedio de resolución por tipo de ticket")+geom_text(position = position_dodge(width = 0.9))
ticket_comercial %>% group_by(Title,mes) %>% summarise(dif_updated_closed=median((`Updated at`- `Created at`)/3600)) %>% arrange(-dif_updated_closed) %>% ggplot(aes(x=reorder(Title,dif_updated_closed),y=dif_updated_closed,fill=factor(mes,levels=c("4","3","2","1")),label=dif_updated_closed))+geom_bar(stat = "identity",position = "dodge")+coord_flip()+guides(fill=guide_legend(title="mes"))+labs(x="",y="horas promedio",title = "Horas promedio de resolución por tipo de ticket")+geom_text(position = position_dodge(width = 0.9))
ticket_comercial %>% group_by(Title,mes) %>% summarise(dif_updated_closed=median((`Updated at`- `Created at`)/3600)) %>% arrange(-dif_updated_closed) %>% ggplot(aes(x=reorder(Title,dif_updated_closed),y=dif_updated_closed,fill=factor(mes,levels=c("4","3","2","1")),label=round(dif_updated_closed,digit=2)))+geom_bar(stat = "identity",position = "dodge")+coord_flip()+guides(fill=guide_legend(title="mes"))+labs(x="",y="horas promedio",title = "Horas promedio de resolución por tipo de ticket")+geom_text(position = position_dodge(width = 0.9))
ticket_comercial %>% group_by(Title,mes) %>% summarise(dif_updated_closed=median((`Updated at`- `Created at`)/3600)) %>% arrange(-dif_updated_closed) %>% ggplot(aes(x=reorder(Title,dif_updated_closed),y=dif_updated_closed,fill=factor(mes,levels=c("4","3","2","1")),label=round(dif_updated_closed,digit=1)))+geom_bar(stat = "identity",position = "dodge")+coord_flip()+guides(fill=guide_legend(title="mes"))+labs(x="",y="horas promedio",title = "Horas promedio de resolución por tipo de ticket")+geom_text(position = position_dodge(width = 0.9))
ticket_comercial %>% group_by(Title,mes) %>% summarise(dif_updated_closed=median((`Updated at`- `Created at`)/3600)) %>% arrange(-dif_updated_closed) %>% kbl()
ticket_comercial %>% group_by(Title,mes) %>% summarise(dif_updated_closed=round( median((`Updated at`- `Created at`)/3600))) %>% arrange(-dif_updated_closed) %>% kbl()
ticket_comercial %>% group_by(Title,mes) %>% summarise(dif_updated_closed= median((`Updated at`- `Created at`)/3600)) %>% arrange(-dif_updated_closed) %>% kbl() %>% kable_styling(bootstrap_options = c("striped", "hover", "condensed"))
ticket_comercial %>% group_by(Title,mes) %>% summarise(dif_updated_closed= median((`Updated at`- `Created at`)/3600)) %>% arrange(Title-dif_updated_closed) %>% kbl() %>% kable_styling(bootstrap_options = c("striped", "hover", "condensed"))
ticket_comercial %>% group_by(Title,mes) %>% summarise(dif_updated_closed= median((`Updated at`- `Created at`)/3600)) %>% arrange(Title,dif_updated_closed) %>% kbl() %>% kable_styling(bootstrap_options = c("striped", "hover", "condensed"))
ticket_comercial %>% group_by(Title,mes) %>% summarise(dif_updated_closed= median((`Updated at`- `Created at`)/36)) %>% arrange(Title,dif_updated_closed) %>% kbl() %>% kable_styling(bootstrap_options = c("striped", "hover", "condensed"))
ticket_comercial %>% group_by(Title,mes) %>% summarise(dif_updated_closed= median((`Updated at`- `Created at`)/3600)) %>% arrange(Title,dif_updated_closed) %>% kbl() %>% kable_styling(bootstrap_options = c("striped", "hover", "condensed"))
ticket_comercial %>% group_by(Title,mes) %>% summarise(dif_updated_closed= median((`Updated at`- `Created at`)/36)) %>% arrange(Title,dif_updated_closed) %>% kbl() %>% kable_styling(bootstrap_options = c("striped", "hover", "condensed"))
ticket_comercial %>% group_by(Title,mes) %>% summarise(dif_updated_closed= median((`Updated at`- `Created at`)/3600)) %>% arrange(Title,dif_updated_closed) %>% kbl() %>% kable_styling(bootstrap_options = c("striped", "hover", "condensed"))
ticket_comercial %>% group_by(Title,mes) %>% summarise(dif_updated_closed= median((`Updated at`- `Created at`)/3600)) %>% arrange(Title,-dif_updated_closed) %>% kbl() %>% kable_styling(bootstrap_options = c("striped", "hover", "condensed"))
# Horas promedio por pqr por mes (gráfico)
ticket_comercial %>% count(mes,Title) %>% ggplot(aes(x=reorder(Title,n),y=n,fill=factor(mes,levels=c("4","3","2","1"))))+geom_bar(stat = "identity",position = "dodge2")+coord_flip()+labs(x="",y="conteo")+guides(fill=guide_legend(title="mes")
ticket_comercial %>% count(mes,Title) %>% ggplot(aes(x=reorder(Title,n),y=n,fill=factor(mes,levels=c("4","3","2","1"))))+geom_bar(stat = "identity",position = "dodge2")+coord_flip()+labs(x="",y="conteo")+guides(fill=guide_legend(title="mes"))
ticket_comercial %>% count(mes,Title) %>% ggplot(aes(x=reorder(Title,n),y=n,fill=factor(mes,levels=c("4","3","2","1"))))+geom_bar(stat = "identity",position = "dodge2")+coord_flip()+labs(x="",y="conteo")+guides(fill=guide_legend(title="mes"))
ticket_comercial %>% count(mes,Title)
ticket_comercial %>% count(mes,Title)
ticket_comercial %>% count(mes,Title) %>% ggplot(aes(x=reorder(Title,n),y=n,fill=factor(mes,levels=c("4","3","2","1")),label=n))+geom_bar(stat = "identity",position = "dodge2")+coord_flip()+labs(x="",y="conteo")+guides(fill=guide_legend(title="mes"))+geom_text()
ticket_comercial %>% count(mes,Title) %>% ggplot(aes(x=reorder(Title,n),y=n,fill=factor(mes,levels=c("4","3","2","1")),label=n))+geom_bar(stat = "identity",position = "dodge2")+coord_flip()+labs(x="",y="conteo")+guides(fill=guide_legend(title="mes"))+geom_text(position = position_dodge(width = 0.9))
ticket_comercial %>% count(mes,Title) %>%  %>% arrange(Title,-n) %>% kbl() %>% kable_styling(bootstrap_options = c("striped", "hover", "condensed"))
ticket_comercial %>% count(mes,Title) %>% arrange(Title,-n) %>% kbl() %>% kable_styling(bootstrap_options = c("striped", "hover", "condensed"))
ticket_comercial %>% group_by(Title,mes) %>% summarise(dif_updated_closed= median((`Updated at`- `Created at`)/3600)) %>% arrange(Title,-dif_updated_closed) %>% kbl() %>% kable_styling(bootstrap_options = c("striped", "hover", "condensed"))
ticket_comercial %>% group_by(mes,Title) %>% summarise(dif_updated_closed= median((`Updated at`- `Created at`)/3600)) %>% arrange(Title,-dif_updated_closed) %>% kbl() %>% kable_styling(bootstrap_options = c("striped", "hover", "condensed"))
ticket_comercial %>% group_by(mes,Title) %>% summarise(dif_updated_closed= median((`Updated at`- `Created at`)/3600)) %>% arrange(mes,Title,-dif_updated_closed) %>% kbl() %>% kable_styling(bootstrap_options = c("striped", "hover", "condensed"))
ticket_comercial %>% group_by(mes,Title) %>% summarise(dif_updated_closed= median((`Updated at`- `Created at`)/3600)) %>% arrange(Title,-dif_updated_closed) %>% kbl() %>% kable_styling(bootstrap_options = c("striped", "hover", "condensed"))
ticket_comercial %>% group_by(mes,Title) %>% summarise(dif_updated_closed= median((`Updated at`- `Created at`)/3600)) %>% arrange(Title,mes) %>% kbl() %>% kable_styling(bootstrap_options = c("striped", "hover", "condensed"))
ticket_comercial %>% count(mes,Title) %>% arrange(Title,-n) %>% kbl() %>% kable_styling(bootstrap_options = c("striped", "hover", "condensed"))
ticket_comercial %>% count(mes,Title) %>% arrange(Title,mes) %>% kbl() %>% kable_styling(bootstrap_options = c("striped", "hover", "condensed"))
ticket_comercial %>% count(mes,Title) %>% arrange(Title,mes) %>% kbl() %>% kable_styling(bootstrap_options = c("striped", "hover", "condensed"))
knitr::opts_chunk$set(
message = FALSE,
warning = FALSE,
include = FALSE
)
library(readxl)
library(readxl)
library(lubridate)
library(tidyr)
library(dplyr)
library(ggplot2)
comfama_febrero<-read_xlsx("comfama_febrero.xlsx")
comfama_febrero<-read_xlsx("comfama_febrero.xlsx")
View(comfama_febrero)
View(comfama_febrero)
View(comfama_febrero)
library(kableExtra)
library(kableExtra)
library(kableExtra)
str(comfama_febrero)
comfama_febrero %>% filter(Parentesco=="Titular")
unique(comfama_febrero$Parentesco)
length( comfama_febrero %>% filter(Parentesco=="Titular"))
nrow( comfama_febrero %>% filter(Parentesco=="Titular"))
comfama_febrero %>% filter(Parentesco=="Titular")
comfama_febrero %>% filter(Parentesco=="Titular") %>% count()
comfama_febrero %>% filter(Parentesco!="Titular") %>% count()
comfama_febrero %>% filter(¿`¿Desea aplicar a la beca?`="SI")
unique(comfama_febrero$`¿Desea aplicar a la beca?`)
comfama_febrero %>% filter(`¿Desea aplicar a la beca?`="SI") %>% count()
comfama_febrero %>% filter(`¿Desea aplicar a la beca?`=="SI") %>% count()
comfama_febrero %>% filter(`¿Desea aplicar a la beca?`=="SI") %>%
filter(Parentesco=="Titular") %>% count()
unique(comfama_febrero$Parentesco)
comfama_febrero %>% filter(`¿Desea aplicar a la beca?`=="SI") %>% count(Parentesco)
comfama_febrero %>% filter(`¿Desea aplicar a la beca?`=="SI") %>% count(Parentesco) %>%
arrange(-n)
comfama_febrero %>% filter(`¿Desea aplicar a la beca?`=="SI") %>% count(Parentesco) %>%
arrange(-n)
comfama_febrero %>% filter(`¿Desea aplicar a la beca?`=="SI") %>% count(Parentesco) %>%
arrange(-n) %>% kbl() %>% kable_styling(bootstrap_options = c(stripped))
comfama_febrero %>% filter(`¿Desea aplicar a la beca?`=="SI") %>% count(Parentesco) %>%
arrange(-n) %>% kbl() %>% kable_styling(bootstrap_options = c(striped))
comfama_febrero %>% filter(`¿Desea aplicar a la beca?`=="SI") %>% count(Parentesco) %>%
arrange(-n) %>% kbl() %>% kable_styling(bootstrap_options = c("striped"))
comfama_febrero %>% filter(`¿Desea aplicar a la beca?`=="SI") %>% count(Parentesco) %>%
arrange(-n) %>% kbl() %>% kable_styling( bootstrap_options = c("striped"))
comfama_febrero %>% filter(`¿Desea aplicar a la beca?`=="SI") %>% count(Parentesco) %>%
arrange(-n)
comfama_febrero %>% filter(`¿Desea aplicar a la beca?`=="SI") %>%
filter(Parentesco=="Titular") %>% count(Parentesco) %>%
arrange(-n)
comfama_febrero %>% count()
comfama_febrero %>% count(Pare)
comfama_febrero %>% count(Parentesco)
comfama_febrero %>% count(Parentesco) %>% arrange(-n)
comfama_febrero %>% count(Parentesco) %>% arrange(-n) %>% kbl() %>% kabl
