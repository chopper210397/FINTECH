ggplot(aes(x=hora,fill=`Agent A`))+geom_bar()
View(llamadas)
# para todo el equipo
# llamadas entrantes por hora
llamadas %>% filter(mes==5) %>% filter(`Is incoming`=="yes") %>% count(hora) %>%
ggplot(aes(x=hora,y=n,label=n))+geom_bar(stat = "identity",fill="lightblue")+
scale_x_continuous(n.breaks = 15)+labs(title = "Llamadas entrantes por hora",y="")+geom_text(size=3)
# llamadas salientes por hora
llamadas %>% filter(mes==5) %>% filter(`Is incoming`=="no") %>% count(hora) %>%
ggplot(aes(x=hora,y=n,label=n))+geom_bar(stat = "identity",fill="lightblue")+
scale_x_continuous(n.breaks = 15)+labs(title = "Llamadas salientes por hora", y="")+geom_text(color="black")
ggsave("llamadasporhorassalientes.png",dpi = 300)
# llamadas salientes por hora
llamadas %>% filter(mes==5) %>% filter(`Is incoming`=="no") %>% count(hora) %>%
ggplot(aes(x=hora,y=n,label=n))+geom_bar(stat = "identity",fill="lightblue")+
scale_x_continuous(n.breaks = 15)+labs(title = "Llamadas salientes por hora", y="")+geom_text(color="black",size=3)
# llamadas salientes por hora
llamadas %>% filter(mes==5) %>% filter(`Is incoming`=="no") %>% count(hora) %>%
ggplot(aes(x=hora,y=n,label=n))+geom_bar(stat = "identity",fill="lightblue")+
scale_x_continuous(n.breaks = 15)+labs(title = "Llamadas salientes por hora", y="")+geom_text(color="black",size=3)
ggsave("llamadasporhorassalientes.png",dpi = 300,width = 12,height = 6)
# llamadas salientes por hora
llamadas %>% filter(mes==5) %>% filter(`Is incoming`=="no") %>% count(hora) %>%
ggplot(aes(x=hora,y=n,label=n))+geom_bar(stat = "identity",fill="lightblue")+
scale_x_continuous(n.breaks = 15)+labs(title = "Llamadas salientes por hora", y="")+geom_text(color="black",size=3)
ggsave("llamadasporhorassalientes.png",dpi = 300,width = 9,height = 6)
library(readxl)
library(lubridate)
library(dplyr)
read_xlsx(tickets_abril.xls)
read_xlsx("tickets_abril.xls")
read_xls("tickets_abril.xls")
rm(llamadas)
tickets<-read_xls("tickets_abril.xls")
View(tickets)
tickets<-read_xls("tickets_abril.xls",skip = 2)
View(tickets)
tickets %>% filter(Customer=="Luisa Moreno" | Owner=="Luisa Moreno" ) %>% mutate(dia=day(`Closed at`)-day(`Created at`)) %>%
select(dia) %>% na.omit() %>% summarise(promedio=mean(dia))
View(tickets)
tickets %>% filter(Customer=="Natalia Piedrahita" | Owner=="Natalia Piedrahita" ) %>% mutate(dia=day(`Closed at`)-day(`Created at`)) %>%
select(dia) %>% na.omit() %>% summarise(promedio=mean(dia))
tickets<-read_xls("tickets_mayo.xls",skip = 2)
View(tickets)
tickets %>% filter(Customer=="Luisa Moreno" | Owner=="Luisa Moreno" ) %>% mutate(dia=day(`Closed at`)-day(`Created at`)) %>%
select(dia) %>% na.omit() %>% summarise(promedio=mean(dia))
tickets %>% filter(Customer=="Natalia Piedrahita" | Owner=="Natalia Piedrahita" ) %>% mutate(dia=day(`Closed at`)-day(`Created at`)) %>%
select(dia) %>% na.omit() %>% summarise(promedio=mean(dia))
unique(tickets$Owner)
unique(tickets$Customer)
tickets %>% filter(Customer=="Luisa Moreno" | Owner=="Luisa Moreno" ) %>% mutate(dia=day(`Closed at`)-day(`Created at`)) %>%
select(dia) %>% na.omit() %>% summarise(promedio=mean(dia))
tickets %>% filter(Customer=="Natalia Piedrahita" | Owner=="Natalia Piedrahita" ) %>% mutate(dia=day(`Closed at`)-day(`Created at`)) %>%
select(dia) %>% na.omit() %>% summarise(promedio=mean(dia))
tickets<-read_xls("tickets_abril1.xls",skip = 2)
tickets %>% filter(Customer=="Luisa Moreno" | Owner=="Luisa Moreno" ) %>% mutate(dia=day(`Closed at`)-day(`Created at`)) %>%
select(dia) %>% na.omit() %>% summarise(promedio=mean(dia))
tickets %>% filter(Customer=="Natalia Piedrahita" | Owner=="Natalia Piedrahita" ) %>% mutate(dia=day(`Closed at`)-day(`Created at`)) %>%
select(dia) %>% na.omit() %>% summarise(promedio=mean(dia))
unique(tickets$Owner)
unique(tickets$Customer)
tickets<-read_xls("tickets_mayo.xls",skip = 2)
unique(tickets$Owner)
unique(tickets$Customer)
tickets %>% filter(Customer=="Luisa Moreno" | Owner=="Luisa Moreno" ) %>% mutate(dia=day(`Closed at`)-day(`Created at`)) %>%
select(dia) %>% na.omit() %>% summarise(promedio=mean(dia))
tickets %>% filter(Customer=="Natalia Piedrahita" | Owner=="Natalia Piedrahita" ) %>% mutate(dia=day(`Closed at`)-day(`Created at`)) %>%
select(dia) %>% na.omit() %>% summarise(promedio=mean(dia))
unique(tickets$Owner)
unique(tickets$Customer)
tickets<-read_xls("tickets_abril1.xls",skip = 2)
library(readxl)
library(lubridate)
library(dplyr)
tickets<-read_xls("tickets_abril1.xls",skip = 2)
tickets %>% filter(Customer=="Luisa Moreno" | Owner=="Luisa Moreno" ) %>% mutate(dia=day(`Closed at`)-day(`Created at`)) %>%
select(dia) %>% na.omit() %>% summarise(promedio=mean(dia))
tickets %>% filter(Customer=="Natalia Piedrahita" | Owner=="Natalia Piedrahita" ) %>% mutate(dia=day(`Closed at`)-day(`Created at`)) %>%
select(dia) %>% na.omit() %>% summarise(promedio=mean(dia))
tickets<-read_xls("tickets_abril2.xls",skip = 2)
tickets<-read_xls("tickets_abril_2.xls",skip = 2)
tickets %>% filter(Customer=="Luisa Moreno" | Owner=="Luisa Moreno" ) %>% mutate(dia=day(`Closed at`)-day(`Created at`)) %>%
select(dia) %>% na.omit() %>% summarise(promedio=mean(dia))
tickets %>% filter(Customer=="Natalia Piedrahita" | Owner=="Natalia Piedrahita" ) %>% mutate(dia=day(`Closed at`)-day(`Created at`)) %>%
select(dia) %>% na.omit() %>% summarise(promedio=mean(dia))
range(tickets$`Created at`)
View(tickets)
tickets %>% filter(Customer=="Luisa Moreno" | Owner=="Luisa Moreno" ) %>% mutate(dia=(day(`Closed at`)-day(`Created at`))) %>%
select(dia) %>% na.omit() %>% summarise(promedio=mean(dia))
tickets %>% filter(Customer=="Luisa Moreno" | Owner=="Luisa Moreno" ) %>% mutate(dia=(day(`Closed at`)-day(`Created at`))) %>%
select(dia)  %>% summarise(promedio=mean(dia))
tickets %>% filter(Customer=="Luisa Moreno" | Owner=="Luisa Moreno" ) %>% mutate(dia=(day(`Closed at`)-day(`Created at`))) %>%
select(dia)
View(tickets)
tickets %>% filter(Customer=="Luisa Moreno" | Owner=="Luisa Moreno" ) %>% filter(month( `Closed at`)=5) %>%
mutate(dia=(day(`Closed at`)-day(`Created at`))) %>%
select(dia) %>% na.omit() %>% summarise(promedio=mean(dia))
tickets %>% filter(Customer=="Luisa Moreno" | Owner=="Luisa Moreno" ) %>% filter(month( `Closed at`)==5) %>%
mutate(dia=(day(`Closed at`)-day(`Created at`))) %>%
select(dia) %>% na.omit() %>% summarise(promedio=mean(dia))
View(tickets)
tickets %>% filter(Customer=="Luisa Moreno" | Owner=="Luisa Moreno" ) %>% filter(month( `Closed at`)==4) %>%
mutate(dia=(day(`Closed at`)-day(`Created at`))) %>%
select(dia) %>% na.omit() %>% summarise(promedio=mean(dia))
tickets %>% filter(Customer=="Luisa Moreno" | Owner=="Luisa Moreno" )  %>%
mutate(dia=(day(`Closed at`)-day(`Created at`))) %>%
select(dia) %>% na.omit() %>% summarise(promedio=mean(dia))
tickets %>% filter(Customer=="Luisa Moreno" | Owner=="Luisa Moreno" )  %>%
mutate(dia=(`Closed at`-`Created at`)) %>%
select(dia) %>% na.omit() %>% summarise(promedio=mean(dia))
tickets %>% filter(Customer=="Luisa Moreno" | Owner=="Luisa Moreno" )  %>%
mutate(dia=(`Closed at`-`Created at`)
tickets %>% filter(Customer=="Luisa Moreno" | Owner=="Luisa Moreno" )  %>%
mutate(dia=(`Closed at`-`Created at`))
tickets %>% filter(Customer=="Luisa Moreno" | Owner=="Luisa Moreno" )  %>%
mutate(dia=`Closed at`-`Created at`)
tickets<-read_xls("tickets_abril_cerrado.xls",skip = 2)
tickets %>% filter(Customer=="Luisa Moreno" | Owner=="Luisa Moreno" ) %>% filter(month( `Closed at`)==4) %>%
mutate(dia=(day(`Closed at`)-day(`Created at`))) %>%
select(dia) %>% na.omit() %>% summarise(promedio=mean(dia))
tickets %>% filter(Customer=="Natalia Piedrahita" | Owner=="Natalia Piedrahita" ) %>% mutate(dia=day(`Closed at`)-day(`Created at`)) %>%
select(dia) %>% na.omit() %>% summarise(promedio=mean(dia))
tickets %>% filter(Customer=="Luisa Moreno" | Owner=="Luisa Moreno" ) %>% filter(month( `Closed at`)==4) %>%
mutate(dia=(day(`Closed at`)-day(`Created at`))) %>%
select(dia) %>% na.omit() %>% summarise(promedio=mean(dia))
tickets %>% filter(Customer=="Luisa Moreno" | Owner=="Luisa Moreno" )  %>%
mutate(dia=(day(`Closed at`)-day(`Created at`))) %>%
select(dia) %>% na.omit() %>% summarise(promedio=mean(dia))
tickets %>% filter(Customer=="Natalia Piedrahita" | Owner=="Natalia Piedrahita" ) %>% mutate(dia=day(`Closed at`)-day(`Created at`)) %>%
select(dia) %>% na.omit() %>% summarise(promedio=mean(dia))
View(tickets)
tickets<-read_xls("tickets_abril_2.xls",skip = 2)
tickets %>% filter(Customer=="Luisa Moreno" | Owner=="Luisa Moreno" )  %>%
mutate(dia=(day(`Closed at`)-day(`Created at`))) %>%
select(dia) %>% na.omit() %>% summarise(promedio=mean(dia))
tickets %>% filter(Customer=="Luisa Moreno" | Owner=="Luisa Moreno" )  %>% filter(month(`Closed at`)=4)
tickets %>% filter(Customer=="Luisa Moreno" | Owner=="Luisa Moreno" )  %>% filter(month(`Closed at`)==4)
tickets %>% filter(Customer=="Luisa Moreno" | Owner=="Luisa Moreno" )  %>% filter(month(`Closed at`)==4) %>%
mutate(dia=(day(`Closed at`)-day(`Created at`))) %>%
select(dia) %>% na.omit() %>% summarise(promedio=mean(dia))
tickets %>% filter(Customer=="Natalia Piedrahita" | Owner=="Natalia Piedrahita" ) %>% filter(month(`Closed at`)==4) %>%
mutate(dia=day(`Closed at`)-day(`Created at`)) %>%
select(dia) %>% na.omit() %>% summarise(promedio=mean(dia))
tickets<-read_xls("tickets_mayo.xls",skip = 2)
tickets %>% filter(Customer=="Luisa Moreno" | Owner=="Luisa Moreno" )  %>% filter(month(`Closed at`)==4) %>%
mutate(dia=(day(`Closed at`)-day(`Created at`))) %>%
select(dia) %>% na.omit() %>% summarise(promedio=mean(dia))
tickets %>% filter(Customer=="Luisa Moreno" | Owner=="Luisa Moreno" )  %>% filter(month(`Closed at`)==5) %>%
mutate(dia=(day(`Closed at`)-day(`Created at`))) %>%
select(dia) %>% na.omit() %>% summarise(promedio=mean(dia))
tickets %>% filter(Customer=="Natalia Piedrahita" | Owner=="Natalia Piedrahita" ) %>% filter(month(`Closed at`)==5) %>%
mutate(dia=day(`Closed at`)-day(`Created at`)) %>%
select(dia) %>% na.omit() %>% summarise(promedio=mean(dia))
View(tickets)
tickets %>% filter(Customer=="Luisa Moreno" | Owner=="Luisa Moreno" )  %>% filter(month(`Closed at`)==5) %>%
mutate(dia=(day(`Closed at`)-day(`Created at`))) %>%
select(dia) %>% na.omit() %>% summarise(promedio=mean(dia))
tickets %>% filter(Customer=="Natalia Piedrahita" | Owner=="Natalia Piedrahita" ) %>% filter(month(`Closed at`)==5) %>%
mutate(dia=day(`Closed at`)-day(`Created at`)) %>%
select(dia) %>% na.omit() %>% summarise(promedio=mean(dia))
View(tickets)
tickets %>% filter(Customer=="Luisa Moreno" | Owner=="Luisa Moreno" )
tickets %>% filter(Customer=="Luisa Moreno" | Owner=="Luisa Moreno" ) %>% na.omit(`Closed at`)
tickets %>% filter(Customer=="Luisa Moreno" | Owner=="Luisa Moreno" ) %>% na.omit(.~`Closed at`)  %>% filter(month(`Closed at`)==5) %>%
mutate(dia=(day(`Closed at`)-day(`Created at`))) %>%
select(dia) %>% na.omit() %>% summarise(promedio=mean(dia))
tickets %>% filter(Customer=="Luisa Moreno" | Owner=="Luisa Moreno" ) %>% na.omit(.~`Closed at`)
`tickets %>% filter(Customer=="Luisa Moreno" | Owner=="Luisa Moreno" ) %>% filter(month(`Closed at`)==5) %>%
mutate(dia=(day(`Closed at`)-day(`Created at`))) %>%
select(dia) %>% na.omit() %>% summarise(promedio=mean(dia))
tickets %>% filter(Customer=="Luisa Moreno" | Owner=="Luisa Moreno" ) %>% filter(month(`Closed at`)==5) %>%
mutate(dia=(day(`Closed at`)-day(`Created at`))) %>%
select(dia) %>% na.omit() %>% summarise(promedio=mean(dia))
unique(tickets$`Closed at`)
unique(tickets$`Closed at`) %>% count()
tickets$`Closed at`
as.Date( tickets$`Closed at`)
tickets$`Created at`<-as.Date( tickets$`Created at`)
tickets %>% filter(Customer=="Luisa Moreno" | Owner=="Luisa Moreno" ) %>% filter(month(`Closed at`)==5) %>%
mutate(dia=(day(`Closed at`)-day(`Created at`))) %>%
select(dia) %>% na.omit() %>% summarise(promedio=mean(dia))
View(tickets)
unique(tickets$`Closed at`)
unique(tickets$`Closed at`) %>% count()
tickets$`Closed at` %>% count()
tickets %>% count(`Closed at`)
tickets %>% count(`Closed at`) %>% arrange(-n)
tickets %>% filter(Customer=="Luisa Moreno" | Owner=="Luisa Moreno" ) %>% filter(`Closed at`!=NA) %>% filter(month(`Closed at`)==5) %>%
mutate(dia=(day(`Closed at`)-day(`Created at`))) %>%
select(dia) %>% na.omit() %>% summarise(promedio=mean(dia))
tickets %>% filter(Customer=="Luisa Moreno" | Owner=="Luisa Moreno" ) %>% filter(`Closed at` is.na())
tickets %>% filter(Customer=="Luisa Moreno" | Owner=="Luisa Moreno" ) %>% filter(is.na(`Closed at`))
tickets %>% filter(Customer=="Luisa Moreno" | Owner=="Luisa Moreno" ) %>% filter(!is.na(`Closed at`))
tickets %>% filter(Customer=="Luisa Moreno" | Owner=="Luisa Moreno" ) %>% filter(!is.na(`Closed at`)) %>% filter(month(`Closed at`)==5) %>%
mutate(dia=(day(`Closed at`)-day(`Created at`))) %>%
select(dia) %>% na.omit() %>% summarise(promedio=mean(dia))
tickets %>% filter(Customer=="Natalia Piedrahita" | Owner=="Natalia Piedrahita" )  %>% filter(!is.na(`Closed at`)) %>%
filter(month(`Closed at`)==5) %>%
mutate(dia=day(`Closed at`)-day(`Created at`)) %>%
select(dia) %>% na.omit() %>% summarise(promedio=mean(dia))
tickets %>% filter(Customer=="Luisa Moreno" | Owner=="Luisa Moreno" ) %>% filter(!is.na(`Closed at`))
tickets %>% filter(Customer=="Luisa Moreno" | Owner=="Luisa Moreno" ) %>% filter(!is.na(`Closed at`))
# DATA VOXIMPLANT _sac_ llamadas
library(scales)
library(readr)
library(readxl)
library(lubridate)
library(dplyr)
library(ggplot2)
library(tidyr)
library(kableExtra)
library(writexl)
#------ voximplant por hora -------#
llamadas<-read_xlsx("voximplant_call_history_mayo.xlsx")
rm(tickets)
View(llamadas)
llamadas<-llamadas %>% mutate(mes=month(`Date of call start`))
unique(llamadas$mes)
llamadas<-llamadas %>% mutate(hora=hour(llamadas$`Date of call start`))
# llamadas entrantes por hora
llamadas %>% filter(mes==5) %>% filter(`Is incoming`=="yes") %>% count(hora) %>%
ggplot(aes(x=hora,y=n,label=n))+geom_bar(stat = "identity",fill="lightblue")+
scale_x_continuous(n.breaks = 15)+labs(title = "Llamadas entrantes por hora",y="")+geom_text(size=3)
# llamadas salientes por hora
llamadas %>% filter(mes==5) %>% filter(`Is incoming`=="no") %>% count(hora) %>%
ggplot(aes(x=hora,y=n,label=n))+geom_bar(stat = "identity",fill="lightblue")+
scale_x_continuous(n.breaks = 15)+labs(title = "Llamadas salientes por hora", y="")+geom_text(color="black",size=3)
#------ voximplant por hora -------#
llamadas<-read_xlsx("voximplant_call_history_mayo.xlsx")
View(llamadas)
# llamadas salientes por hora
llamadas %>% filter(mes==5) %>% filter(`Is incoming`=="no") %>% count(hora) %>%
ggplot(aes(x=hora,y=n,label=n))+geom_bar(stat = "identity",fill="lightblue")+
scale_x_continuous(n.breaks = 15)+labs(title = "Llamadas salientes por hora", y="")+geom_text(color="black",size=3)
# llamadas salientes por hora
llamadas %>% filter(mes==5) %>% filter(`Is incoming`=="no") %>% count(hora) %>%
ggplot(aes(x=hora,y=n,label=n))+geom_bar(stat = "identity",fill="lightblue")+
scale_x_continuous(n.breaks = 15)+labs(title = "Llamadas salientes por hora", y="")+geom_text(color="black",size=3)
llamadas<-llamadas %>% mutate(mes=month(`Date of call start`))
llamadas<-llamadas %>% mutate(hora=hour(llamadas$`Date of call start`))
# llamadas salientes por hora
llamadas %>% filter(mes==5) %>% filter(`Is incoming`=="no") %>% count(hora) %>%
ggplot(aes(x=hora,y=n,label=n))+geom_bar(stat = "identity",fill="lightblue")+
scale_x_continuous(n.breaks = 15)+labs(title = "Llamadas salientes por hora", y="")+geom_text(color="black",size=3)
# llamadas salientes por hora
llamadas %>% filter(mes==5) %>% filter(`Is incoming`=="no") %>% count(hora) %>%
ggplot(aes(x=hora,y=n,label=n))+geom_bar(stat = "identity",fill="lightblue")+
scale_x_continuous(n.breaks = 15)+labs(title = "Llamadas salientes por hora", y="")+geom_text(color="black",size=3)
ggsave("llamadasporhorassalientes.png",dpi = 300,width = 9,height = 6)
View(llamadas)
#------ voximplant por hora -------#
llamadas<-read_xlsx("voximplant_call_history_mayo.xlsx")
llamadas<-llamadas %>% mutate(mes=month(`Date of call start`))
llamadas<-llamadas %>% mutate(hora=hour(llamadas$`Date of call start`))
# llamadas salientes por hora
llamadas %>% filter(mes==5) %>% filter(`Is incoming`=="no") %>% count(hora) %>%
ggplot(aes(x=hora,y=n,label=n))+geom_bar(stat = "identity",fill="lightblue")+
scale_x_continuous(n.breaks = 15)+labs(title = "Llamadas salientes por hora", y="")+geom_text(color="black",size=3)
# llamadas salientes por hora
llamadas %>% filter(mes==5) %>% filter(`Is incoming`=="no") %>% count(hora) %>%
ggplot(aes(x=hora,y=n,label=n))+geom_bar(stat = "identity",fill="lightblue")+
scale_x_continuous(n.breaks = 15)+labs(title = "Llamadas salientes por hora", y="")+geom_text(color="black",size=3)
#------ voximplant por hora -------#
llamadas<-read_xlsx("voximplant_call_history_mayo.xlsx")
#------ voximplant por hora -------#
llamadas<-read_xlsx("voximplant_call_history_mayo.xlsx")
llamadas<-llamadas %>% mutate(mes=month(`Date of call start`))
llamadas<-llamadas %>% mutate(hora=hour(llamadas$`Date of call start`))
#
llamada_servicio %>% ggplot(aes(x=hora,y=total,fill=`Agent A`))+geom_bar(stat = "identity",position = "dodge2")+
scale_x_continuous(n.breaks = 11)+labs(y="numero de llamadas salientes",
title = "Número de llamadas salientes para área servicios")+
guides(fill=guide_legend(title="Servicios"))
#
llamada_servicio %>% ggplot(aes(x=hora,y=total,fill=`Agent A`))+geom_bar(stat = "identity",position = "dodge2")+
scale_x_continuous(n.breaks = 11)+labs(y="numero de llamadas salientes",
title = "Número de llamadas salientes para área servicios")+
guides(fill=guide_legend(title="Servicios"))
# llamadas salientes por hora
llamadas %>% filter(mes==5) %>% filter(`Is incoming`=="no") %>% count(hora) %>%
ggplot(aes(x=hora,y=n,label=n))+geom_bar(stat = "identity",fill="lightblue")+
scale_x_continuous(n.breaks = 15)+labs(title = "Llamadas salientes por hora", y="")+geom_text(color="black",size=3)
#------ voximplant por hora -------#
llamadas<-read_xlsx("voximplant_call_history_mayo.xlsx")
#------ voximplant por hora -------#
llamadas<-read_xlsx("voximplant_call_history_mayo.xlsx")
=======
#------------------------- voximplant por hora ----------------------------#
llamadas<-read_xlsx("voximplant_mayo_cierrre.xlsx")
#------ voximplant por hora -------#
llamadas<-read_xlsx("voximplant_call_history_mayo.xlsx")
# llamadas entrantes por hora
llamadas %>% filter(mes==5) %>% filter(`Is incoming`=="yes") %>% count(hora) %>%
ggplot(aes(x=hora,y=n,label=n))+geom_bar(stat = "identity",fill="lightblue")+
scale_x_continuous(n.breaks = 15)+labs(title = "Llamadas entrantes por hora",y="")+geom_text(size=3)
#------------------------- voximplant por hora ----------------------------#
llamadas<-read_xlsx("voximplant_mayo_cierrre.xlsx")
llamadas<-llamadas %>% mutate(mes=month(`Date of call start`))
llamadas<-llamadas %>% mutate(hora=hour(llamadas$`Date of call start`))
# llamadas entrantes por hora
llamadas %>% filter(mes==5) %>% filter(`Is incoming`=="yes") %>% count(hora) %>%
ggplot(aes(x=hora,y=n,label=n))+geom_bar(stat = "identity",fill="lightblue")+
scale_x_continuous(n.breaks = 15)+labs(title = "Llamadas entrantes por hora",y="")+geom_text(size=3)
# llamadas salientes por hora
llamadas %>% filter(mes==5) %>% filter(`Is incoming`=="no") %>% count(hora) %>%
ggplot(aes(x=hora,y=n,label=n))+geom_bar(stat = "identity",fill="lightblue")+
scale_x_continuous(n.breaks = 15)+labs(title = "Llamadas salientes por hora", y="")+geom_text(color="black",size=3)
# llamadas entrantes por hora
llamadas %>% filter(mes==5) %>% filter(`Is incoming`=="yes") %>% count(hora) %>%
ggplot(aes(x=hora,y=n,label=n))+geom_bar(stat = "identity",fill="lightblue")+
scale_x_continuous(n.breaks = 15)+labs(title = "Llamadas entrantes por hora",y="")+geom_text(size=3)
llamadas %>% filter(`Is incoming`=='yes') %>% count()
llamadas %>% filter(`Is incoming`=='no') %>% count()
install.packages("datametria")
install.packages("devtools")
library(rvest)
library(devtools)
library(dplyr)
# Instalando el paquete datametria.
devtools::install_github("CesarAHN/datametria")
#---
library(datametria)
# Instalando el paquete datametria.
devtools::install_github("CesarAHN/datametria")
#---
library(datametria)
?bcrp
library(lubridate)
df<-bcrp(periodo = "diarias", serie = "PD04638PD", nombre = "S/ por US$")
rm(llamadas)
View(df)
df$Fecha<-seq(as_date("1997-01-02"),length=length(df$Fecha),
by="1 day") #pongo la fecha de inicio, y pongo day, year, month etc
View(df)
df$Fecha <-as.Date(df$Fecha,"%m/%d/%Y")
View(df)
TC<- df %>% rename(TC="S/ por US$") %>%
filter(Fecha> "2022-03-01" & Fecha<"2022-06-10")
View(df)
View(TC)
str(df)
TC<- df %>% rename(TC="S/ por US$") %>%
filter(Fecha> "2022-03-01" ) %>% filter( Fecha<"2022-06-10")
TC<- df %>% rename(TC="S/ por US$") %>%
filter(Fecha> "2022-03-01" ) %>% filter( Fecha<"2022-06-10")
TC<- df %>%
filter(Fecha> "2022-03-01" ) %>% filter( Fecha<"2022-06-10")
TC<- df %>%
filter(Fecha> "2022-03-01" )
View(TC)
View(df)
df<-bcrp(periodo = "diarias", serie = "PD04638PD", nombre = "S/ por US$")
View(df)
str(df)
View(df)
View(df)
View(df)
View(df)
df %>% mutate(dia=substr(Fecha,1,3))
df %>% mutate(dia=substr(Fecha,1,2))
df %>% mutate(dia=substr(Fecha,1,2)) %>% mutate(mes=substr(Fecha,3,6))
df %>% mutate(dia=substr(Fecha,1,2)) %>% mutate(mes=substr(Fecha,3,5))
df %>% mutate(dia=substr(Fecha,1,2)) %>% mutate(mes=substr(Fecha,3,5)) %>% mutate(year=substr(Fecha,6,7))
View(df)
df %>% mutate(dia=substr(Fecha,1,2)) %>% mutate(mes=substr(Fecha,3,5)) %>%
mutate(year=ifelse( substr(Fecha,6,7)>90,paste0("19",substr(Fecha,6,7)), paste0("20",substr(Fecha,6,7)) ))
ra<-df %>% mutate(dia=substr(Fecha,1,2)) %>% mutate(mes=substr(Fecha,3,5)) %>%
mutate(year=ifelse( substr(Fecha,6,7)>90,paste0("19",substr(Fecha,6,7)), paste0("20",substr(Fecha,6,7)) ))
unique(ra$mes)
ra<-df %>% mutate(dia=substr(Fecha,1,2)) %>% mutate(mes=ifelse( substr(Fecha,3,5)="Ene",01,
ra<-df %>% mutate(dia=substr(Fecha,1,2)) %>% mutate(mes=ifelse( substr(Fecha,3,5)=="Ene",01,
View(ra)
ifelse(substr(Fecha,3,5)=="Dic",12,"mes_no_tipificado"))) %>%
ra<-df %>% mutate(dia=substr(Fecha,1,2)) %>% mutate(mes=ifelse( substr(Fecha,3,5)=="Ene",01,
View(ra)
df %>% mutate(dia=substr(Fecha,1,2)) %>% mutate(mes=ifelse( substr(Fecha,3,5)=="Ene",01,
df %>% mutate(dia=substr(Fecha,1,2)) %>% mutate(mes=ifelse( substr(Fecha,3,5)=="Ene",01,
df %>% mutate(dia=substr(Fecha,1,2)) %>% mutate(mes=ifelse( substr(Fecha,3,5)=="Ene",01,
ifelse(substr(Fecha,3,5)=="Feb",02,
ifelse(substr(Fecha,3,5)=="Mar",03,
ifelse(substr(Fecha,3,5)=="Abr",04,
ifelse(substr(Fecha,3,5)=="May",05,
ifelse(substr(Fecha,3,5)=="Jun",06,
ifelse(substr(Fecha,3,5)=="Jul",07,
ifelse(substr(Fecha,3,5)=="Ago",08,
ifelse(substr(Fecha,3,5)=="Set",09,
ifelse(substr(Fecha,3,5)=="Oct",10,
ifelse(substr(Fecha,3,5)=="Nov",11,
ifelse(substr(Fecha,3,5)=="Dic",12,"mes_no_tipificado"))))))))))))) %>%
mutate(year=ifelse( substr(Fecha,6,7)>90,paste0("19",substr(Fecha,6,7)), paste0("20",substr(Fecha,6,7)) ))
df %>% mutate(dia=substr(Fecha,1,2)) %>% mutate(mes=ifelse( substr(Fecha,3,5)=="Ene",01,
ifelse(substr(Fecha,3,5)=="Feb",02,
ifelse(substr(Fecha,3,5)=="Mar",03,
ifelse(substr(Fecha,3,5)=="Abr",04,
ifelse(substr(Fecha,3,5)=="May",05,
ifelse(substr(Fecha,3,5)=="Jun",06,
ifelse(substr(Fecha,3,5)=="Jul",07,
ifelse(substr(Fecha,3,5)=="Ago",08,
ifelse(substr(Fecha,3,5)=="Set",09,
ifelse(substr(Fecha,3,5)=="Oct",10,
ifelse(substr(Fecha,3,5)=="Nov",11,
ifelse(substr(Fecha,3,5)=="Dic",12,"mes_no_tipificado"))))))))))))) %>%
mutate(year=ifelse( substr(Fecha,6,7)>90,paste0("19",substr(Fecha,6,7)), paste0("20",substr(Fecha,6,7)) ))
df %>% mutate(dia=substr(Fecha,1,2)) %>% mutate(mes=ifelse( substr(Fecha,3,5)=="Ene",01,
ifelse(substr(Fecha,3,5)=="Feb",02,
ifelse(substr(Fecha,3,5)=="Mar",03,
ifelse(substr(Fecha,3,5)=="Abr",04,
ifelse(substr(Fecha,3,5)=="May",05,
ifelse(substr(Fecha,3,5)=="Jun",06,
ifelse(substr(Fecha,3,5)=="Jul",07,
ifelse(substr(Fecha,3,5)=="Ago",08,
ifelse(substr(Fecha,3,5)=="Set",09,
ifelse(substr(Fecha,3,5)=="Oct",10,
ifelse(substr(Fecha,3,5)=="Nov",11,
ifelse(substr(Fecha,3,5)=="Dic",12,"mes_no_tipificado"))))))))))))) %>%
mutate(year=ifelse( substr(Fecha,6,7)>90,paste0("19",substr(Fecha,6,7)), paste0("20",substr(Fecha,6,7)) ))
df %>% mutate(dia=substr(Fecha,1,2)) %>% mutate(mes=ifelse( substr(Fecha,3,5)=="Ene",01,
ifelse(substr(Fecha,3,5)=="Feb",02,
ifelse(substr(Fecha,3,5)=="Mar",03,
ifelse(substr(Fecha,3,5)=="Abr",04,
ifelse(substr(Fecha,3,5)=="May",05,
ifelse(substr(Fecha,3,5)=="Jun",06,
ifelse(substr(Fecha,3,5)=="Jul",07,
ifelse(substr(Fecha,3,5)=="Ago",08,
ifelse(substr(Fecha,3,5)=="Set",09,
ifelse(substr(Fecha,3,5)=="Oct",10,
ifelse(substr(Fecha,3,5)=="Nov",11,
ifelse(substr(Fecha,3,5)=="Dic",12,"mes_no_tipificado"))))))))))))) %>%
mutate(year=ifelse( substr(Fecha,6,7)>90,paste0("19",substr(Fecha,6,7)), paste0("20",substr(Fecha,6,7)) ))
df %>% mutate(dia=substr(Fecha,1,2)) %>% mutate(mes=ifelse( substr(Fecha,3,5)=="Ene",01,
ifelse(substr(Fecha,3,5)=="Feb",02,
ifelse(substr(Fecha,3,5)=="Mar",03,
ifelse(substr(Fecha,3,5)=="Abr",04,
ifelse(substr(Fecha,3,5)=="May",05,
ifelse(substr(Fecha,3,5)=="Jun",06,
ifelse(substr(Fecha,3,5)=="Jul",07,
ifelse(substr(Fecha,3,5)=="Ago",08,
ifelse(substr(Fecha,3,5)=="Set",09,
ifelse(substr(Fecha,3,5)=="Oct",10,
ifelse(substr(Fecha,3,5)=="Nov",11,
ifelse(substr(Fecha,3,5)=="Dic",12,"mes_no_tipificado"))))))))))))) %>%
mutate(year=ifelse( substr(Fecha,6,7)>90,paste0("19",substr(Fecha,6,7)), paste0("20",substr(Fecha,6,7)) )) %>%
paste0(dia,"-",mes,"-",year)
df %>% mutate(dia=substr(Fecha,1,2)) %>% mutate(mes=ifelse( substr(Fecha,3,5)=="Ene",01,
ifelse(substr(Fecha,3,5)=="Feb",02,
ifelse(substr(Fecha,3,5)=="Mar",03,
ifelse(substr(Fecha,3,5)=="Abr",04,
ifelse(substr(Fecha,3,5)=="May",05,
ifelse(substr(Fecha,3,5)=="Jun",06,
ifelse(substr(Fecha,3,5)=="Jul",07,
ifelse(substr(Fecha,3,5)=="Ago",08,
ifelse(substr(Fecha,3,5)=="Set",09,
ifelse(substr(Fecha,3,5)=="Oct",10,
ifelse(substr(Fecha,3,5)=="Nov",11,
ifelse(substr(Fecha,3,5)=="Dic",12,"mes_no_tipificado"))))))))))))) %>%
mutate(year=ifelse( substr(Fecha,6,7)>90,paste0("19",substr(Fecha,6,7)), paste0("20",substr(Fecha,6,7)) )) %>%
paste0(dia,"-",mes,"-",year)
df %>% mutate(dia=substr(Fecha,1,2)) %>% mutate(mes=ifelse( substr(Fecha,3,5)=="Ene",01,
ifelse(substr(Fecha,3,5)=="Feb",02,
ifelse(substr(Fecha,3,5)=="Mar",03,
ifelse(substr(Fecha,3,5)=="Abr",04,
ifelse(substr(Fecha,3,5)=="May",05,
ifelse(substr(Fecha,3,5)=="Jun",06,
ifelse(substr(Fecha,3,5)=="Jul",07,
ifelse(substr(Fecha,3,5)=="Ago",08,
ifelse(substr(Fecha,3,5)=="Set",09,
ifelse(substr(Fecha,3,5)=="Oct",10,
ifelse(substr(Fecha,3,5)=="Nov",11,
ifelse(substr(Fecha,3,5)=="Dic",12,"mes_no_tipificado"))))))))))))) %>%
mutate(year=ifelse( substr(Fecha,6,7)>90,paste0("19",substr(Fecha,6,7)), paste0("20",substr(Fecha,6,7)) )) %>%
mutate(Fecha2=paste0(dia,"-",mes,"-",year))
ra<-df %>% mutate(dia=substr(Fecha,1,2)) %>% mutate(mes=ifelse( substr(Fecha,3,5)=="Ene",01,
ifelse(substr(Fecha,3,5)=="Feb",02,
ifelse(substr(Fecha,3,5)=="Mar",03,
ifelse(substr(Fecha,3,5)=="Abr",04,
ifelse(substr(Fecha,3,5)=="May",05,
ifelse(substr(Fecha,3,5)=="Jun",06,
ifelse(substr(Fecha,3,5)=="Jul",07,
ifelse(substr(Fecha,3,5)=="Ago",08,
ifelse(substr(Fecha,3,5)=="Set",09,
ifelse(substr(Fecha,3,5)=="Oct",10,
ifelse(substr(Fecha,3,5)=="Nov",11,
ifelse(substr(Fecha,3,5)=="Dic",12,"mes_no_tipificado"))))))))))))) %>%
mutate(year=ifelse( substr(Fecha,6,7)>90,paste0("19",substr(Fecha,6,7)), paste0("20",substr(Fecha,6,7)) )) %>%
mutate(Fecha2=paste0(dia,"-",mes,"-",year))
ra<-df %>% mutate(dia=substr(Fecha,1,2)) %>% mutate(mes=ifelse( substr(Fecha,3,5)=="Ene",01,
ifelse(substr(Fecha,3,5)=="Feb",02,
ifelse(substr(Fecha,3,5)=="Mar",03,
ifelse(substr(Fecha,3,5)=="Abr",04,
ifelse(substr(Fecha,3,5)=="May",05,
ifelse(substr(Fecha,3,5)=="Jun",06,
ifelse(substr(Fecha,3,5)=="Jul",07,
ifelse(substr(Fecha,3,5)=="Ago",08,
ifelse(substr(Fecha,3,5)=="Set",09,
ifelse(substr(Fecha,3,5)=="Oct",10,
ifelse(substr(Fecha,3,5)=="Nov",11,
ifelse(substr(Fecha,3,5)=="Dic",12,"mes_no_tipificado"))))))))))))) %>%
mutate(year=ifelse( substr(Fecha,6,7)>90,paste0("19",substr(Fecha,6,7)), paste0("20",substr(Fecha,6,7)) )) %>%
mutate(Fecha2=paste0(dia,"-",mes,"-",year)) %>% select(`S/ por US$`,Fecha2)
View(ra)
str(ra)
as.Date(ra$Fecha2)
as.Date(ra$Fecha2,format = "%d-%m-%Y")
as.Date(ra$Fecha2,format = "%d-%m-%Y")
ra$Fecha2<-as.Date(ra$Fecha2,format = "%d-%m-%Y")
View(ra)
View(df)
ra %>%
filter(Fecha> "2022-03-01" ) %>% filter( Fecha<"2022-06-10")
ra %>%
filter(Fecha2> "2022-03-01" ) %>% filter( Fecha2<"2022-06-10")
View(ra)
